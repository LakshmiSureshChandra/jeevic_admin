(()=>{var e={};e.id=775,e.ids=[775],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},15811:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GlobalError:()=>i.a,__next_app__:()=>x,pages:()=>c,routeModule:()=>m,tree:()=>o});var s=a(65239),r=a(48088),l=a(88170),i=a.n(l),n=a(30893),d={};for(let e in n)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>n[e]);a.d(t,d);let o={children:["",{children:["category",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,34640)),"C:\\Users\\chand\\OneDrive\\Desktop\\jeevic_admin\\app\\category\\page.tsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(a.bind(a,46055))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(a.bind(a,58014)),"C:\\Users\\chand\\OneDrive\\Desktop\\jeevic_admin\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(a.t.bind(a,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(a.t.bind(a,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(a.bind(a,46055))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,c=["C:\\Users\\chand\\OneDrive\\Desktop\\jeevic_admin\\app\\category\\page.tsx"],x={require:a,loadChunk:()=>Promise.resolve()},m=new s.AppPageRouteModule({definition:{kind:r.RouteKind.APP_PAGE,page:"/category/page",pathname:"/category",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},16023:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(62688).A)("upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]])},18278:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>u});var s=a(60687),r=a(43210),l=a(47601),i=a(96474),n=a(99270),d=a(57175),o=a(88233),c=a(66799),x=a(11860),m=a(16023);function g({onClose:e,reload:t,category:a}){let[i,n]=(0,r.useState)(a.name),[d,c]=(0,r.useState)(""),[g,u]=(0,r.useState)(null),[p,h]=(0,r.useState)(!1),[y,b]=(0,r.useState)(a.image_url),j=async()=>{if(!i)return void alert("Please provide a category name.");h(!0);try{let s=l.$.getInstance(),r=[...y];if(g){let e=await s.uploadFile(g);r.push(e.url)}await s.updateCategory(a.id,i,r),t(),alert("Category updated successfully!"),e()}catch(e){console.error("Failed to update category:",e),alert("Failed to update category.")}finally{h(!1)}},f=e=>{b(y.filter((t,a)=>a!==e))};return(0,s.jsx)("div",{className:"fixed inset-0 bg-black/50 bg-opacity-50 flex items-center justify-center z-50",children:(0,s.jsx)("div",{className:"bg-white rounded-lg w-full max-w-lg",children:(0,s.jsxs)("div",{className:"p-6",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold text-gray-800",children:"Edit Category"}),(0,s.jsx)("button",{onClick:e,className:"text-gray-500 hover:text-gray-700",children:(0,s.jsx)(x.A,{size:24})})]}),(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm text-gray-600 mb-1",children:"Category Name"}),(0,s.jsx)("input",{type:"text",value:i,onChange:e=>n(e.target.value),placeholder:"Enter category name",className:"w-full border rounded-md px-3 py-2 text-gray-800"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm text-gray-600 mb-1",children:"Existing Images"}),(0,s.jsx)("div",{className:"flex flex-wrap gap-4 mb-4",children:y.map((e,t)=>(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("img",{src:e,alt:`Category ${t+1}`,className:"h-24 w-24 object-cover rounded-md"}),(0,s.jsx)("button",{onClick:()=>f(t),className:"absolute -top-2 -right-2 p-1 bg-red-500 rounded-full text-white hover:bg-red-600",children:(0,s.jsx)(o.A,{size:16})})]},t))})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm text-gray-600 mb-1",children:"Add New Image"}),(0,s.jsxs)("div",{className:"border-2 border-dashed rounded-md p-4 flex flex-col items-center justify-center",children:[(0,s.jsx)("input",{type:"file",accept:"image/png, image/jpeg, image/jpg",onChange:e=>{let t=e.target.files?.[0]||null;u(t),t&&c(URL.createObjectURL(t))},className:"hidden",id:"categoryImageInput"}),(0,s.jsx)("label",{htmlFor:"categoryImageInput",className:"cursor-pointer",children:(0,s.jsxs)("div",{className:"flex flex-col items-center",children:[d?(0,s.jsx)("img",{src:d,alt:"Preview",className:"h-30 w-auto mb-2"}):(0,s.jsx)(m.A,{className:"h-10 w-10 text-gray-400 mb-2"}),(0,s.jsxs)("p",{className:"text-sm text-gray-600 mb-1",children:["Drag and Drop an image here or ",(0,s.jsx)("span",{className:"text-blue-500",children:"Select file"})]}),(0,s.jsx)("p",{className:"text-xs text-gray-500",children:"Formats Supported: PNG, JPG, JPEG"})]})})]})]}),(0,s.jsxs)("div",{className:"mt-8 flex space-x-3",children:[(0,s.jsx)("button",{className:"flex-1 py-2 border border-gray-300 rounded-md text-gray-800 hover:bg-gray-50",onClick:e,disabled:p,children:"Cancel"}),(0,s.jsx)("button",{className:"flex-1 py-2 bg-orange-500 text-white rounded-md hover:bg-orange-600",onClick:j,disabled:p,children:p?"Updating...":"Update Category"})]})]})]})})})}function u(){let[e,t]=(0,r.useState)([]),[a,x]=(0,r.useState)(""),[m,u]=(0,r.useState)(!1),[p,h]=(0,r.useState)(!1),[y,b]=(0,r.useState)(null),j=async()=>{try{let e=l.$.getInstance(),a=await e.getAllCategories();t(a)}catch(e){console.error("Failed to fetch categories:",e)}},f=async e=>{if(window.confirm("Are you sure you want to delete this category?"))try{let t=l.$.getInstance();await t.deleteCategory(e),await j()}catch(e){console.error("Failed to delete category:",e)}},v=e=>{b(e),h(!0)},N=e.filter(e=>e.name.toLowerCase().includes(a.toLowerCase()));return(0,s.jsxs)("div",{className:"p-6 bg-gray-50 min-h-screen",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-8",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-3xl font-semibold text-gray-900",children:"Categories"}),(0,s.jsx)("p",{className:"text-gray-500 mt-1",children:"Manage your product categories"})]}),(0,s.jsxs)("button",{onClick:()=>u(!0),className:"bg-orange-500 text-white px-5 py-2 rounded-lg flex items-center gap-2 hover:bg-orange-600 transition",children:[(0,s.jsx)(i.A,{size:18}),"Add Category"]})]}),(0,s.jsx)("div",{className:"mb-6",children:(0,s.jsxs)("div",{className:"relative max-w-md",children:[(0,s.jsx)(n.A,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:18}),(0,s.jsx)("input",{type:"text",placeholder:"Search categories...",value:a,onChange:e=>x(e.target.value),className:"w-full pl-11 pr-4 py-2.5 border border-gray-300 rounded-lg bg-white focus:ring-2 focus:ring-orange-500 focus:outline-none transition placeholder-gray-400 text-gray-600"})]})}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-5",children:[N.map(e=>(0,s.jsxs)("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden hover:shadow-md transition",children:[(0,s.jsx)("div",{className:"h-44 bg-white overflow-hidden flex justify-center items-center",children:(0,s.jsx)("img",{src:e.image_url[0]||"/placeholder.jpg",alt:e.name,className:"w-auto h-full object-fit"})}),(0,s.jsxs)("div",{className:"p-4 flex justify-between items-start",children:[(0,s.jsx)("h3",{className:"text-base font-medium text-gray-800",children:e.name}),(0,s.jsxs)("div",{className:"flex gap-1",children:[(0,s.jsx)("button",{onClick:()=>v(e),className:"p-2 text-gray-500 hover:text-blue-600 hover:bg-blue-50 rounded-full",title:"Edit category",children:(0,s.jsx)(d.A,{size:16})}),(0,s.jsx)("button",{onClick:()=>f(e.id),className:"p-2 text-gray-500 hover:text-red-600 hover:bg-red-50 rounded-full",title:"Delete category",children:(0,s.jsx)(o.A,{size:16})})]})]})]},e.id)),0===N.length&&(0,s.jsx)("div",{className:"col-span-full text-center py-20",children:(0,s.jsx)("p",{className:"text-gray-400 text-base",children:"No categories found."})})]}),m&&(0,s.jsx)(c.k,{onClose:()=>u(!1),reload:j}),p&&y&&(0,s.jsx)(g,{onClose:()=>{h(!1),b(null)},reload:j,category:y})]})}},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},28843:(e,t,a)=>{Promise.resolve().then(a.bind(a,18278))},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},34640:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>s});let s=(0,a(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\chand\\\\OneDrive\\\\Desktop\\\\jeevic_admin\\\\app\\\\category\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\chand\\OneDrive\\Desktop\\jeevic_admin\\app\\category\\page.tsx","default")},46055:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>r});var s=a(31658);let r=async e=>[{type:"image/x-icon",sizes:"16x16",url:(0,s.fillMetadataSegment)(".",await e.params,"favicon.ico")+""}]},57175:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(62688).A)("pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]])},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},66799:(e,t,a)=>{"use strict";a.d(t,{k:()=>d});var s=a(60687),r=a(43210),l=a(11860),i=a(16023),n=a(47601);function d({onClose:e,reload:t}){let[a,d]=(0,r.useState)(""),[o,c]=(0,r.useState)(""),[x,m]=(0,r.useState)(null),[g,u]=(0,r.useState)(!1),p=async()=>{if(!a||!x)return void alert("Please provide a category name and image.");u(!0);try{let s=n.$.getInstance();new FormData().append("file",x);let r=(await s.uploadFile(x)).url;await s.createNewCategory(a,[r]),t(),alert("Category added successfully!"),e()}catch(e){console.error("Failed to add category:",e),alert("Failed to add category.")}finally{u(!1)}};return(0,s.jsx)("div",{className:"fixed inset-0 bg-black/50 bg-opacity-50 flex items-center justify-center z-50",children:(0,s.jsx)("div",{className:"bg-white rounded-lg w-full max-w-lg",children:(0,s.jsxs)("div",{className:"p-6",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold text-gray-800",children:"New Category"}),(0,s.jsx)("button",{onClick:e,className:"text-gray-500 hover:text-gray-700",children:(0,s.jsx)(l.A,{size:24})})]}),(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm text-gray-600 mb-1",children:"Category Name"}),(0,s.jsx)("input",{type:"text",value:a,onChange:e=>d(e.target.value),placeholder:"Enter category name",className:"w-full border rounded-md px-3 py-2 text-gray-800"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm text-gray-600 mb-1",children:"Category Image"}),(0,s.jsxs)("div",{className:"border-2 border-dashed rounded-md p-4 flex flex-col items-center justify-center",children:[(0,s.jsx)("input",{type:"file",accept:"image/png, image/jpeg, image/jpg",onChange:e=>{let t=e.target.files?.[0]||null;m(t),t&&c(URL.createObjectURL(t))},className:"hidden",id:"categoryImageInput"}),(0,s.jsx)("label",{htmlFor:"categoryImageInput",className:"cursor-pointer",children:(0,s.jsxs)("div",{className:"flex flex-col items-center",children:[o?(0,s.jsx)("img",{src:o,alt:"Preview",className:"h-30 w-auto mb-2"}):(0,s.jsx)(i.A,{className:"h-10 w-10 text-gray-400 mb-2"}),(0,s.jsxs)("p",{className:"text-sm text-gray-600 mb-1",children:["Drag and Drop an image here or ",(0,s.jsx)("span",{className:"text-blue-500",children:"Select file"})]}),(0,s.jsx)("p",{className:"text-xs text-gray-500",children:"Formats Supported: PNG, JPG, JPEG"})]})})]})]}),(0,s.jsxs)("div",{className:"mt-8 flex space-x-3",children:[(0,s.jsx)("button",{className:"flex-1 py-2 border border-gray-300 rounded-md text-gray-800 hover:bg-gray-50",onClick:e,disabled:g,children:"Cancel"}),(0,s.jsx)("button",{className:"flex-1 py-2 bg-orange-500 text-white rounded-md hover:bg-orange-600",onClick:p,disabled:g,children:g?"Adding...":"Add Category"})]})]})]})})})}},68595:(e,t,a)=>{Promise.resolve().then(a.bind(a,34640))},79551:e=>{"use strict";e.exports=require("url")},88233:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(62688).A)("trash-2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},96474:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(62688).A)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},99270:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(62688).A)("search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])}};var t=require("../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),s=t.X(0,[447,661,658,286],()=>a(15811));module.exports=s})();