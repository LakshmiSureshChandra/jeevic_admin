(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[210],{13052:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(19946).A)("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]])},13717:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(19946).A)("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]])},17580:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(19946).A)("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},30636:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>w});var a=s(95155),l=s(41004),r=s(19946);let n=(0,r.A)("file-text",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);var i=s(17580),c=s(12115);function d(e){let{title:t,value:s,change:l,icon:r}=e;return(0,a.jsxs)("div",{className:"bg-white border rounded-lg p-4",children:[(0,a.jsxs)("div",{className:"flex items-center mb-2",children:[r,(0,a.jsx)("span",{className:"text-sm text-gray-800 ml-2",children:t})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("h3",{className:"text-2xl font-bold text-gray-800",children:s}),void 0!==l&&(0,a.jsxs)("div",{className:"flex items-center text-sm ".concat(l>0?"text-green-500":"text-red-500"),children:[(0,a.jsxs)("span",{children:[l>0?"+":"",l,"%"]}),(0,a.jsx)("svg",{className:"h-4 w-4 ml-1 ".concat(l>0?"":"transform rotate-180"),fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 10l7-7m0 0l7 7m-7-7v18"})})]})]})]})}function o(e){let{totalCoupons:t,totalUses:s,loading:l}=e;return(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,a.jsx)(d,{title:"Total Coupons",value:l?"...":t.toString(),icon:(0,a.jsx)(n,{className:"h-5 w-5 text-gray-500"})}),(0,a.jsx)(d,{title:"Total Uses Remaining",value:l?"...":s.toString(),icon:(0,a.jsx)(i.A,{className:"h-5 w-5 text-gray-500"})})]})}var x=s(47924);function m(e){let{activeTab:t,setActiveTab:s,searchTerm:l,setSearchTerm:r,totalCoupons:n,activeCoupons:i,inactiveCoupons:c}=e;return(0,a.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between mb-4",children:[(0,a.jsx)("div",{className:"border-b mb-4 md:mb-0",children:(0,a.jsx)("div",{className:"flex space-x-6",children:[{id:"all",label:"All Coupons",count:n},{id:"active",label:"Active Coupons",count:i},{id:"inactive",label:"Inactive Coupons",count:c}].map(e=>(0,a.jsxs)("button",{className:"pb-2 px-1 font-medium text-sm ".concat(t===e.id?"text-orange-500 border-b-2 border-orange-500":"text-gray-800 hover:text-gray-600"),onClick:()=>s(e.id),children:[e.label,null!==e.count&&(0,a.jsx)("span",{className:"ml-1 text-xs bg-gray-100 px-1.5 py-0.5 rounded-full",children:e.count})]},e.id))})}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("input",{type:"text",placeholder:"Search for Code, Title, Validity",className:"pl-10 pr-4 py-2 text-gray-800 border rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-orange-500 w-full md:w-64",value:l,onChange:e=>r(e.target.value)}),(0,a.jsx)(x.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18})]})]})}let u=(0,r.A)("info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);var p=s(13717),h=s(62525);function g(e){let{coupon:t,mode:s,position:l,onClose:r,onUpdate:n}=e,[i,d]=(0,c.useState)(t),o="hover"===s&&l?{position:"fixed",left:"".concat(l.x,"px"),top:"".concat(l.y+24,"px"),zIndex:50,width:"300px"}:{position:"fixed",left:"50%",top:"50%",transform:"translate(-50%, -50%)",zIndex:50,width:"300px"};return(0,a.jsxs)(a.Fragment,{children:["popup"===s&&(0,a.jsx)("div",{className:"fixed inset-0 bg-black/20 bg-opacity-50 z-40",onClick:r}),(0,a.jsxs)("div",{className:"\n          bg-white border rounded-md shadow-lg\n          ".concat("hover"===s?"p-3":"p-4","\n        "),style:o,children:["popup"===s&&(0,a.jsxs)("div",{className:"flex justify-between items-center border-b pb-3 mb-4",children:[(0,a.jsx)("h3",{className:"font-medium text-gray-800",children:"Coupon Details"}),(0,a.jsx)("button",{onClick:r,className:"text-gray-400 hover:text-gray-600",children:(0,a.jsx)("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,a.jsxs)("div",{className:"hover"===s?"text-sm":"",children:[(0,a.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-xs text-gray-500",children:"COUPON ID"}),(0,a.jsx)("div",{className:"font-medium text-gray-800",children:i.id})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-xs text-gray-500",children:"CODE"}),(0,a.jsx)("div",{className:"font-medium text-gray-800",children:i.code})]})]}),(0,a.jsx)("div",{className:"flex items-center justify-between mb-4",children:(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("div",{className:"text-xs text-gray-500",children:"NO. OF USES REMAINING"}),(0,a.jsx)("div",{className:"font-medium text-gray-800",children:i.no_of_uses})]})}),(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-xs text-gray-500",children:"DISCOUNT TYPE"}),(0,a.jsx)("div",{className:"font-medium text-gray-800",children:i.meta_data.discountType})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-xs text-gray-500",children:"DISCOUNT VALUE"}),(0,a.jsx)("div",{className:"font-medium text-gray-800",children:i.meta_data.discountAmount})]})]})]})]})]})}var y=s(34355),j=s(54416);function v(e){let{coupon:t,onClose:s,onUpdated:l}=e,[r,n]=(0,c.useState)(""),[i,d]=(0,c.useState)(!0),[o,x]=(0,c.useState)(""),[m,u]=(0,c.useState)(""),[p,h]=(0,c.useState)("percentage"),[g,v]=(0,c.useState)(""),[b,N]=(0,c.useState)(""),[f,w]=(0,c.useState)([]);(0,c.useEffect)(()=>{n(t.code),d(t.is_one_time),x(t.no_of_uses===Number.MAX_SAFE_INTEGER?"unlimited":t.no_of_uses.toString()),u(t.expires_on?new Date(t.expires_on).toISOString().split("T")[0]:""),h(t.meta_data.discountType),v(t.meta_data.discountAmount||""),N(t.meta_data.minimumCartValue||"");try{w(JSON.parse(t.meta_data.terms||"[]"))}catch(e){w([])}},[t]);let k=(e,t)=>{w(s=>s.map((s,a)=>a===e?t:s))},C=e=>{w(t=>t.filter((t,s)=>s!==e))},_=async e=>{e.preventDefault();let a={code:r,is_one_time:i,expires_on:new Date(m),no_of_uses:"unlimited"===o?Number.MAX_SAFE_INTEGER:Number(o),meta_data:{discountType:p,discountAmount:g,minimumCartValue:b,terms:JSON.stringify(f)}};await y.$.getInstance().updateCoupon(t.id,a),await l(),s()};return(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 overflow-auto",children:(0,a.jsx)("div",{className:"bg-white rounded-lg w-full max-w-md max-h-[90vh] overflow-y-auto",children:(0,a.jsxs)("div",{className:"p-6",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,a.jsx)("h2",{className:"text-lg font-medium text-gray-800",children:"Edit Coupon"}),(0,a.jsx)("button",{onClick:s,className:"text-gray-400 hover:text-gray-600 transition-colors","aria-label":"Close modal",children:(0,a.jsx)(j.A,{size:20})})]}),(0,a.jsxs)("form",{onSubmit:_,children:[(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("input",{type:"text",value:r,onChange:e=>n(e.target.value),placeholder:"Enter coupon code",className:"w-full border rounded-md px-3 py-2 text-gray-800"}),(0,a.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Coupon ID will be generated automatically"})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-gray-800",children:"One Time Use Per User"}),(0,a.jsx)("div",{className:"relative inline-flex items-center cursor-pointer",children:(0,a.jsx)("div",{className:"w-10 h-5 rounded-full ".concat(i?"bg-orange-500":"bg-gray-200"),onClick:()=>d(!i),children:(0,a.jsx)("div",{className:"absolute w-3.5 h-3.5 bg-white rounded-full top-[3px] transition-transform ".concat(i?"translate-x-[22px]":"translate-x-[3px]")})})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm text-gray-600 mb-1",children:"Total No. Of Uses"}),(0,a.jsx)("div",{className:"relative",children:(0,a.jsx)("input",{type:"number",value:o,onChange:e=>x(e.target.value),placeholder:"total number uses",className:"w-full border rounded-md px-3 py-2 text-gray-800"})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm text-gray-600 mb-1",children:"Expiry"}),(0,a.jsx)("div",{className:"relative",children:(0,a.jsx)("input",{type:"date",value:m,onChange:e=>u(e.target.value),className:"w-full border rounded-md px-3 py-2 text-gray-800"})})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm text-gray-600 mb-2",children:"Discount Details"}),(0,a.jsxs)("div",{className:"flex space-x-6",children:[(0,a.jsxs)("label",{className:"flex items-center",children:[(0,a.jsx)("input",{type:"radio",name:"discountType",checked:"percentage"===p,onChange:()=>h("percentage"),className:"mr-2 text-orange-500"}),(0,a.jsx)("span",{className:"text-gray-800",children:"Percentage%"})]}),(0,a.jsxs)("label",{className:"flex items-center",children:[(0,a.jsx)("input",{type:"radio",name:"discountType",checked:"flat"===p,onChange:()=>h("flat"),className:"mr-2 text-orange-500"}),(0,a.jsx)("span",{className:"text-gray-800",children:"Flat Discount(₹)"})]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm text-gray-600 mb-1",children:"Flat Discount Amount(₹)"}),(0,a.jsx)("input",{type:"text",value:g,onChange:e=>v(e.target.value),className:"w-full border rounded-md px-3 py-2 text-gray-800"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm text-gray-600 mb-1",children:"Minimum Cart Value"}),(0,a.jsx)("input",{type:"text",value:b,onChange:e=>N(e.target.value),className:"w-full border rounded-md px-3 py-2 text-gray-800"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm text-gray-600 mb-2",children:"Terms & Conditions"}),(0,a.jsxs)("div",{className:"bg-gray-50 p-3 rounded-md max-h-40 overflow-y-auto",children:[(0,a.jsx)("ol",{className:"list-decimal pl-5 text-sm text-gray-800 space-y-2",children:f.map((e,t)=>(0,a.jsxs)("li",{className:"flex items-center space-x-2",children:[(0,a.jsx)("input",{type:"text",value:e,onChange:e=>k(t,e.target.value),className:"flex-1 border rounded-md px-2 py-1 text-gray-800"}),f.length>1&&(0,a.jsx)("button",{type:"button",onClick:()=>C(t),className:"text-red-500 hover:text-red-700 px-2","aria-label":"Remove term",children:"\xd7"})]},t))}),(0,a.jsx)("button",{type:"button",onClick:()=>{w(e=>[...e,""])},className:"mt-2 text-orange-500 hover:underline text-xs",children:"+ Add Term"})]})]})]}),(0,a.jsx)("button",{type:"submit",className:"w-full mt-6 py-3 bg-orange-500 text-white rounded-md hover:bg-orange-600",children:"Update"})]})]})})})}function b(e){let{coupons:t,reload:s}=e,[l,r]=(0,c.useState)(null),[n,i]=(0,c.useState)(null),[d,o]=(0,c.useState)({x:0,y:0}),[x,m]=(0,c.useState)(null),[j,b]=(0,c.useState)(1),N=Math.ceil(t.length/10),f=async()=>{j>1&&b(j-1)},w=async()=>{j<N&&b(j+1)},k=(e,t)=>{let s=e.currentTarget.getBoundingClientRect();o({x:s.left+window.scrollX,y:s.top+window.scrollY}),r(t)},C=()=>{r(null)},_=e=>{i(e),r(null)},S=async e=>{if(window.confirm("Are you sure you want to delete this coupon?"))try{await y.$.getInstance().deleteCoupon(e),await s()}catch(e){console.error("Failed to delete coupon",e)}};return(0,a.jsxs)("div",{className:"bg-white border rounded-md overflow-hidden",children:[(0,a.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,a.jsx)("thead",{className:"bg-gray-50",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-800 uppercase tracking-wider",children:"Coupon ID"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-800 uppercase tracking-wider",children:"Coupon Code"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-800 uppercase tracking-wider",children:"Expiry Date"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-800 uppercase tracking-wider",children:"Last Updated"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-800 uppercase tracking-wider",children:"Created At"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-800 uppercase tracking-wider",children:"Actions"})]})}),(0,a.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:t.slice((j-1)*10,10*j).map((e,t)=>(0,a.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-800",children:(0,a.jsxs)("div",{className:"flex items-center",children:[e.id,(0,a.jsx)("button",{className:"ml-2 text-gray-400 hover:text-gray-600",onMouseEnter:t=>k(t,e),onMouseLeave:C,onClick:()=>_(e),children:(0,a.jsx)(u,{size:16})})]})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-800",children:e.code}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-800",children:e.expires_on?new Date(e.expires_on).toLocaleDateString():""}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-800",children:e.updated_at?new Date(e.updated_at).toLocaleDateString():""}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-800",children:e.created_at?new Date(e.created_at).toLocaleDateString():""}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-800",children:(0,a.jsxs)("div",{className:"flex space-x-2",children:[(0,a.jsxs)("button",{className:"text-gray-600 hover:text-gray-800 flex items-center",onClick:()=>m(e),children:[(0,a.jsx)(p.A,{size:16,className:"mr-1"}),"Update"]}),(0,a.jsx)("button",{className:"text-red-500 hover:text-red-700",onClick:()=>S(e.id),children:(0,a.jsx)(h.A,{size:16})})]})})]},t))})]}),(0,a.jsxs)("div",{className:"px-6 py-3 flex items-center justify-end border-t",children:[(0,a.jsxs)("div",{className:"text-sm text-gray-700",children:["Page ",j," of ",N]}),(0,a.jsxs)("div",{className:"ml-4 flex",children:[(0,a.jsx)("button",{className:"px-2 py-1 border rounded-l-md bg-gray-100 text-gray-600",onClick:f,disabled:1===j,children:(0,a.jsx)("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),(0,a.jsx)("button",{className:"px-2 py-1 border-t border-b border-r rounded-r-md bg-gray-100 text-gray-600",onClick:w,disabled:j===N,children:(0,a.jsx)("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]})]}),l&&!n&&(0,a.jsx)(g,{coupon:l,position:d,mode:"hover"}),n&&(0,a.jsx)(g,{coupon:n,onClose:()=>i(null),mode:"popup"}),x&&(0,a.jsx)(v,{coupon:x,onClose:()=>m(null),onUpdated:s})]})}var N=s(49103);function f(e){let{onClose:t}=e,[s,l]=(0,c.useState)(""),[r,n]=(0,c.useState)(!0),[i,d]=(0,c.useState)(""),[o,x]=(0,c.useState)(""),[m,u]=(0,c.useState)("percentage"),[p,h]=(0,c.useState)(""),[g,v]=(0,c.useState)(""),[b,N]=(0,c.useState)(["20% off up to ₹999 on orders above ₹4000.","Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua."]),f=(e,t)=>{N(s=>s.map((s,a)=>a===e?t:s))},w=e=>{N(t=>t.filter((t,s)=>s!==e))},k=async e=>{e.preventDefault();let a={code:s,is_one_time:r,expires_on:new Date(o),no_of_uses:"unlimited"===i?Number.MAX_SAFE_INTEGER:Number(i),meta_data:{discountType:m,discountAmount:p,minimumCartValue:g,terms:JSON.stringify(b)}};await y.$.getInstance().createCoupon(a),t()};return(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 overlow-auto scrollbar-thin scrollbar-thumb-orange-400 scrollbar-track-gray-200",children:(0,a.jsx)("div",{className:"bg-white rounded-lg w-full max-w-md max-h-[90vh] overflow-y-auto scrollbar-thin scrollbar-thumb-orange-400 scrollbar-track-gray-200",children:(0,a.jsxs)("div",{className:"p-6",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,a.jsx)("h2",{className:"text-lg font-medium text-gray-800",children:"Coupon Code"}),(0,a.jsx)("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors","aria-label":"Close modal",children:(0,a.jsx)(j.A,{size:20})})]}),(0,a.jsxs)("form",{onSubmit:k,children:[(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("input",{type:"text",value:s,onChange:e=>l(e.target.value),placeholder:"Enter coupon code",className:"w-full border rounded-md px-3 py-2 text-gray-800"}),(0,a.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Coupon ID will be generated automatically"})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-gray-800",children:"One Time Use Per User"}),(0,a.jsx)("div",{className:"relative inline-flex items-center cursor-pointer",children:(0,a.jsx)("div",{className:"w-10 h-5 rounded-full ".concat(r?"bg-orange-500":"bg-gray-200"),onClick:()=>n(!r),children:(0,a.jsx)("div",{className:"absolute w-3.5 h-3.5 bg-white rounded-full top-[3px] transition-transform ".concat(r?"translate-x-[22px]":"translate-x-[3px]")})})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm text-gray-600 mb-1",children:"Total No. Of Uses"}),(0,a.jsx)("div",{className:"relative",children:(0,a.jsx)("input",{type:"number",value:i,onChange:e=>d(e.target.value),placeholder:"total number uses",className:"w-full border rounded-md px-3 py-2 text-gray-800"})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm text-gray-600 mb-1",children:"Expiry"}),(0,a.jsx)("div",{className:"relative",children:(0,a.jsx)("input",{type:"date",value:o,onChange:e=>x(e.target.value),className:"w-full border rounded-md px-3 py-2 text-gray-800"})})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm text-gray-600 mb-2",children:"Discount Details"}),(0,a.jsxs)("div",{className:"flex space-x-6",children:[(0,a.jsxs)("label",{className:"flex items-center",children:[(0,a.jsx)("input",{type:"radio",name:"discountType",checked:"percentage"===m,onChange:()=>u("percentage"),className:"mr-2 text-orange-500"}),(0,a.jsx)("span",{className:"text-gray-800",children:"Percentage%"})]}),(0,a.jsxs)("label",{className:"flex items-center",children:[(0,a.jsx)("input",{type:"radio",name:"discountType",checked:"amount"===m,onChange:()=>u("amount"),className:"mr-2 text-orange-500"}),(0,a.jsx)("span",{className:"text-gray-800",children:"Flat Discount(₹)"})]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm text-gray-600 mb-1",children:"amount"===m?"Flat Discount price":"Discount percentage"}),(0,a.jsx)("input",{type:"text",value:p,onChange:e=>h(e.target.value),className:"w-full border rounded-md px-3 py-2 text-gray-800"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm text-gray-600 mb-1",children:"Minimum Cart Value"}),(0,a.jsx)("input",{type:"text",value:g,onChange:e=>v(e.target.value),className:"w-full border rounded-md px-3 py-2 text-gray-800"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm text-gray-600 mb-2",children:"Terms & Conditions"}),(0,a.jsxs)("div",{className:"bg-gray-50 p-3 rounded-md ",children:[(0,a.jsx)("ol",{className:"list-decimal pl-5 text-sm text-gray-800 space-y-2",children:b.map((e,t)=>(0,a.jsxs)("li",{className:"flex items-center space-x-2",children:[(0,a.jsx)("input",{type:"text",value:e,onChange:e=>f(t,e.target.value),className:"flex-1 border rounded-md px-2 py-1 text-gray-800"}),b.length>1&&(0,a.jsx)("button",{type:"button",onClick:()=>w(t),className:"text-red-500 hover:text-red-700 px-2","aria-label":"Remove term",children:"\xd7"})]},t))}),(0,a.jsx)("button",{type:"button",onClick:()=>{N(e=>[...e,""])},className:"mt-2 text-orange-500 hover:underline text-xs",children:"+ Add Term"})]})]})]}),(0,a.jsx)("button",{type:"submit",className:"w-full mt-6 py-3 bg-orange-500 text-white rounded-md hover:bg-orange-600",onClick:k,children:"Create"})]})]})})})}function w(){let[e,t]=(0,c.useState)(!1),[s,r]=(0,c.useState)([]),[n,i]=(0,c.useState)(!1),[d,x]=(0,c.useState)(""),[u,p]=(0,c.useState)("all");(0,c.useEffect)(()=>{h()},[]);let h=async()=>{i(!0);try{let e=y.$.getInstance(),t=await e.getCoupons();r(t)}finally{i(!1)}},g=(0,c.useMemo)(()=>{let e=s;return"active"===u?e=e.filter(e=>e.no_of_uses>0&&(!e.expires_on||new Date(e.expires_on)>new Date)):"inactive"===u&&(e=e.filter(e=>0===e.no_of_uses||e.expires_on&&new Date(e.expires_on)<=new Date)),d&&(e=e.filter(e=>{var t;return e.code.toLowerCase().includes(d.toLowerCase())||((null==(t=e.meta_data)?void 0:t.title)||"").toLowerCase().includes(d.toLowerCase())})),e},[s,u,d]),j=s.length,v=s.reduce((e,t)=>e+(t.no_of_uses||0),0);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(l.Q,{items:["Marketing","Coupon Codes"]}),(0,a.jsxs)("main",{className:"flex-1 p-6",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,a.jsx)("h1",{className:"text-xl font-medium text-gray-800",children:"Coupon Codes"}),(0,a.jsxs)("button",{onClick:()=>t(!0),className:"flex items-center px-4 py-2 bg-gray-100 rounded-full text-sm font-medium hover:bg-gray-200 transition-colors text-gray-800",children:[(0,a.jsx)(N.A,{className:"h-4 w-4 mr-2"}),"New Coupon Code"]})]}),(0,a.jsx)(o,{totalCoupons:j,totalUses:v,loading:n}),(0,a.jsxs)("div",{className:"mt-8",children:[(0,a.jsxs)("div",{className:"mb-2",children:[(0,a.jsx)("h2",{className:"text-lg font-medium text-gray-800",children:"All Coupons"}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Manage all your coupon codes here"})]}),(0,a.jsx)(m,{activeTab:u,setActiveTab:p,searchTerm:d,setSearchTerm:x,totalCoupons:j,activeCoupons:s.filter(e=>e.no_of_uses>0&&(!e.expires_on||new Date(e.expires_on)>new Date)).length,inactiveCoupons:s.filter(e=>0===e.no_of_uses||e.expires_on&&new Date(e.expires_on)<=new Date).length}),(0,a.jsx)(b,{coupons:g,reload:h})]})]}),e&&(0,a.jsx)(f,{onClose:()=>{h(),t(!1)}})]})}},41004:(e,t,s)=>{"use strict";s.d(t,{Q:()=>i});var a=s(95155),l=s(6874),r=s.n(l),n=s(13052);function i(e){let{items:t}=e;return(0,a.jsx)("div",{className:"px-6 pt-3 flex items-center text-sm",children:t.map((e,s)=>(0,a.jsxs)("div",{className:"flex items-center",children:[s>0&&(0,a.jsx)(n.A,{size:16,className:"mx-2 text-black"}),(0,a.jsx)(r(),{href:"#",className:"".concat(s===t.length-1?"text-gray-800 font-medium":"text-black hover:text-gray-700"),children:e})]},s))})}},47924:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(19946).A)("search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},49103:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(19946).A)("circle-plus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]])},54416:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(19946).A)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},60676:(e,t,s)=>{Promise.resolve().then(s.bind(s,30636))},62525:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(19946).A)("trash-2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])}},e=>{var t=t=>e(e.s=t);e.O(0,[997,95,355,441,684,358],()=>t(60676)),_N_E=e.O()}]);