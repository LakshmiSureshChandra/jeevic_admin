(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[177],{381:(e,t,s)=>{"use strict";s.d(t,{Sidebar:()=>M});var a=s(95155),r=s(6874),l=s.n(r),n=s(35695),o=s(12115),i=s(13052),c=s(42355),d=s(19946);let u=(0,d.A)("layout-grid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]),x=(0,d.A)("package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]),h=(0,d.A)("tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]),m=(0,d.A)("boxes",[["path",{d:"M2.97 12.92A2 2 0 0 0 2 14.63v3.24a2 2 0 0 0 .97 1.71l3 1.8a2 2 0 0 0 2.06 0L12 19v-5.5l-5-3-4.03 2.42Z",key:"lc1i9w"}],["path",{d:"m7 16.5-4.74-2.85",key:"1o9zyk"}],["path",{d:"m7 16.5 5-3",key:"va8pkn"}],["path",{d:"M7 16.5v5.17",key:"jnp8gn"}],["path",{d:"M12 13.5V19l3.97 2.38a2 2 0 0 0 2.06 0l3-1.8a2 2 0 0 0 .97-1.71v-3.24a2 2 0 0 0-.97-1.71L17 10.5l-5 3Z",key:"8zsnat"}],["path",{d:"m17 16.5-5-3",key:"8arw3v"}],["path",{d:"m17 16.5 4.74-2.85",key:"8rfmw"}],["path",{d:"M17 16.5v5.17",key:"k6z78m"}],["path",{d:"M7.97 4.42A2 2 0 0 0 7 6.13v4.37l5 3 5-3V6.13a2 2 0 0 0-.97-1.71l-3-1.8a2 2 0 0 0-2.06 0l-3 1.8Z",key:"1xygjf"}],["path",{d:"M12 8 7.26 5.15",key:"1vbdud"}],["path",{d:"m12 8 4.74-2.85",key:"3rx089"}],["path",{d:"M12 13.5V8",key:"1io7kd"}]]),g=(0,d.A)("box",[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]),f=(0,d.A)("star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]),y=(0,d.A)("clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),p=(0,d.A)("settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),v=(0,d.A)("mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),j=(0,d.A)("message-square",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]),b=(0,d.A)("ticket",[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]]),k=(0,d.A)("message-circle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);var w=s(17580);let N=(0,d.A)("log-out",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);var A=s(94425);function C(e){let{variant:t="full",className:s=""}=e,r=(0,n.useRouter)(),{showConfirm:l}=(0,A.O)(),[i,c]=(0,o.useState)(!1),d=()=>{l("Are you sure you want to log out?",async()=>{try{c(!0),localStorage.removeItem("access_token"),r.push("/login")}finally{c(!1)}},{title:"Logout Confirmation",confirmText:"Logout",cancelText:"Cancel"})};return"icon"===t?(0,a.jsx)("button",{onClick:d,disabled:i,className:"p-2 rounded-md hover:bg-gray-100 ".concat(s),title:"Logout",children:(0,a.jsx)(N,{size:20})}):(0,a.jsxs)("button",{onClick:d,disabled:i,className:"flex items-center space-x-2 px-4 py-2 rounded-md hover:bg-gray-100 ".concat(s),children:[(0,a.jsx)(N,{size:18}),(0,a.jsx)("span",{children:i?"Logging out...":"Logout"})]})}var z=s(4236);function M(){let[e,t]=(0,o.useState)(!1),{isAuthenticated:s,user:r,isLoading:l}=(0,z.A)(),n=()=>{t(!e)},d=r?"".concat(r.first_name||""," ").concat(r.last_name||"").trim():"Jeevan";return l?(0,a.jsxs)("div",{className:"".concat(e?"w-20":"w-60"," h-screen bg-white border-r flex flex-col transition-all duration-300"),children:[(0,a.jsxs)("div",{className:"".concat(e?"justify-center":"pl-4"," p-4 border-b flex items-center"),children:[!e&&(0,a.jsx)("img",{src:"/logo1.svg",alt:""}),(0,a.jsx)("button",{onClick:n,className:"".concat(e?"ml-0":"ml-auto"," p-1 text-black bg-gray-100 rounded-full hover:bg-gray-100"),children:e?(0,a.jsx)(i.A,{size:20}):(0,a.jsx)(c.A,{size:20})})]}),(0,a.jsx)("div",{className:"flex-1 overflow-auto"})]}):(0,a.jsxs)("div",{className:"".concat(e?"w-20":"w-60"," h-screen bg-white  border-r flex flex-col transition-all duration-300"),children:[(0,a.jsxs)("div",{className:"".concat(e?"justify-center":"pl-4"," p-4 border-b flex items-center"),children:[!e&&(0,a.jsx)("img",{src:"/logo1.svg",alt:""}),(0,a.jsx)("button",{onClick:n,className:"".concat(e?"ml-0":"ml-auto"," p-1 text-black bg-gray-100 rounded-full hover:bg-gray-100"),children:e?(0,a.jsx)(i.A,{size:20}):(0,a.jsx)(c.A,{size:20})})]}),(0,a.jsxs)("div",{className:"flex-1 overflow-auto",children:[(0,a.jsxs)("div",{className:"py-4",children:[!e&&(0,a.jsx)("div",{className:"px-4 py-2",children:(0,a.jsx)("p",{className:"text-xs text-gray-400 font-medium",children:"CONVENIENCE"})}),(0,a.jsx)(S,{href:"/oveview",icon:(0,a.jsx)(u,{size:18}),label:"Overview",collapsed:e}),(0,a.jsx)(S,{href:"/inventory",icon:(0,a.jsx)(x,{size:18}),label:"Inventory",collapsed:e}),(0,a.jsx)(S,{href:"/promotions",icon:(0,a.jsx)(h,{size:18}),label:"Promotions & Sales",collapsed:e}),(0,a.jsx)(S,{href:"/category",icon:(0,a.jsx)(m,{size:18}),label:"category",collapsed:e}),(0,a.jsx)(S,{href:"/subcategory",icon:(0,a.jsx)(g,{size:18}),label:"subcategory",collapsed:e}),(0,a.jsx)(S,{href:"/reviews",icon:(0,a.jsx)(f,{size:18}),label:"reviews",collapsed:e})]}),(0,a.jsxs)("div",{className:"py-4",children:[!e&&(0,a.jsx)("div",{className:"px-4 py-2",children:(0,a.jsx)("p",{className:"text-xs text-gray-400 font-medium ",children:"CAFE"})}),(0,a.jsx)(S,{href:"/",icon:(0,a.jsx)(u,{size:18}),label:"Overview",collapsed:e}),(0,a.jsx)(S,{href:"/real-time",icon:(0,a.jsx)(y,{size:18}),label:"Real-Time view",collapsed:e}),(0,a.jsx)(S,{href:"/operations",icon:(0,a.jsx)(p,{size:18}),label:"Operations",collapsed:e})]}),(0,a.jsxs)("div",{className:"py-4",children:[!e&&(0,a.jsx)("div",{className:"px-4 py-2",children:(0,a.jsx)("p",{className:"text-xs text-gray-400 font-medium",children:"MARKETING"})}),(0,a.jsx)(S,{href:"/promotional-mail",icon:(0,a.jsx)(v,{size:18}),label:"Promotional Mail",collapsed:e}),(0,a.jsx)(S,{href:"#",icon:(0,a.jsx)(j,{size:18}),label:"Promotional Mesasge",collapsed:e}),(0,a.jsx)(S,{href:"/coupon-codes",icon:(0,a.jsx)(b,{size:18}),label:"Coupon Codes",collapsed:e}),(0,a.jsx)(S,{href:"/contact-messages",icon:(0,a.jsx)(k,{size:18}),label:"Contact Messages",collapsed:e})]}),(0,a.jsxs)("div",{className:"py-4",children:[!e&&(0,a.jsx)("div",{className:"px-4 py-2",children:(0,a.jsx)("p",{className:"text-xs text-gray-400 font-medium",children:"Staff managemenr"})}),(0,a.jsx)(S,{href:"/staff",icon:(0,a.jsx)(w.A,{size:18}),label:"Staff Management",collapsed:e})]})]}),s&&(0,a.jsx)("div",{className:"p-4 border-t ".concat(e?"flex flex-col items-center":""),children:e?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"w-10 h-10 bg-gray-200 rounded-full overflow-hidden mb-3",children:(0,a.jsx)("img",{src:(null==r?void 0:r.profile_picture)||"/placeholder.svg?height=40&width=40",alt:"User avatar",className:"w-full h-full object-cover"})}),(0,a.jsx)(C,{variant:"icon",className:"text-gray-700 hover:text-orange-500 transition-colors"})]}):(0,a.jsxs)("div",{className:"flex flex-col",children:[(0,a.jsxs)("div",{className:"flex items-center mb-3",children:[(0,a.jsx)("div",{className:"w-10 h-10 bg-gray-200 rounded-full overflow-hidden mr-3",children:(0,a.jsx)("img",{src:(null==r?void 0:r.profile_picture)||"https://i.pinimg.com/736x/d9/7b/bb/d97bbb08017ac2309307f0822e63d082.jpg?height=40&width=40",alt:"User avatar",className:"w-full h-full object-cover"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-800",children:d}),(0,a.jsx)("p",{className:"text-xs text-gray-500",children:r?"".concat(r.country_code).concat(r.phone_number):"admin@jeevic.com"})]})]}),(0,a.jsx)(C,{className:"text-sm text-gray-700 hover:text-orange-500 transition-colors"})]})})]})}function S(e){let{href:t,icon:s,label:r,collapsed:o}=e,i=(0,n.usePathname)()===t&&"#"!==t;return(0,a.jsxs)(l(),{href:t,className:"flex items-center ".concat(o?"justify-center":"px-4"," py-2 text-sm ").concat(i?"bg-orange-500 text-white font-medium":"text-gray-800 hover:bg-gray-100"),title:o?r:void 0,children:[(0,a.jsx)("span",{className:o?"":"mr-3",children:s}),!o&&r]})}},4236:(e,t,s)=>{"use strict";s.d(t,{A:()=>l});var a=s(12115),r=s(34355);let l=()=>{let[e,t]=(0,a.useState)(void 0),[s,l]=(0,a.useState)(!0),[n,o]=(0,a.useState)(!1),[i,c]=(0,a.useState)(null);return(0,a.useEffect)(()=>{try{let e=localStorage.getItem("access_token");e?(c(e),o(!0)):(l(!1),o(!1))}catch(e){console.error("Error accessing localStorage:",e),l(!1),o(!1)}},[]),(0,a.useEffect)(()=>{if(!i)return void l(!1);(async()=>{try{let e=i.startsWith('"')&&i.endsWith('"')?i.slice(1,-1):i,s=r.$.getInstance(e),a=await s.getUser();if(a&&["admin","cafe_admin","ecommerce_admin"].includes(a.role))t(a),o(!0);else throw Error("User does not have the required role")}catch(e){console.error("Failed to fetch user:",e),e instanceof Error&&"Failed to fetch"!==e.message&&(localStorage.removeItem("access_token"),o(!1),t(void 0))}finally{l(!1)}})()},[i]),{user:e,isLoading:s,isAuthenticated:n,setIsAuthenticated:o,setUser:t,refreshAuth:async()=>{let e=localStorage.getItem("access_token");e&&c(e)}}}},13052:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(19946).A)("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]])},17580:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(19946).A)("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},19324:()=>{},25305:(e,t,s)=>{"use strict";s.d(t,{AuthContextProvider:()=>o});var a=s(95155),r=s(12115),l=s(4236);let n=(0,r.createContext)(null),o=e=>{let{children:t}=e,{isAuthenticated:s,isLoading:o,user:i,setIsAuthenticated:c,setUser:d,refreshAuth:u}=(0,l.A)(),x=(0,r.useMemo)(()=>({user:null!=i?i:null,isLoading:o,isAuthenticated:s,setIsAuthenticated:c,setUser:d,refreshAuth:u}),[i,o,s,c,d,u]);return(0,a.jsx)(n.Provider,{value:x,children:t})}},27538:(e,t,s)=>{"use strict";s.d(t,{AuthGuard:()=>i});var a=s(95155),r=s(12115),l=s(35695),n=s(4236),o=s(94425);function i(e){let{children:t}=e,{isAuthenticated:s,isLoading:i,refreshAuth:c}=(0,n.A)(),d=(0,l.useRouter)(),u=(0,l.usePathname)(),{showPopup:x}=(0,o.O)(),[h,m]=(0,r.useState)(!1),[g,f]=(0,r.useState)(!1);return((0,r.useEffect)(()=>{c&&!g&&(c(),f(!0))},[c,g]),(0,r.useEffect)(()=>{if("/login"!==u&&!h&&!i){let e="true"!==sessionStorage.getItem("sessionChecked");s?sessionStorage.setItem("sessionChecked","true"):(e&&(x("Your session has expired. Please login again.",{type:"warning",title:"Authentication Required"}),sessionStorage.setItem("sessionChecked","true")),m(!0),d.push("/login"))}},[s,i,d,u,x,h]),(i||!g)&&"/login"!==u)?(console.log("Showing loading state for protected route"),(0,a.jsx)("div",{className:"flex items-center justify-center h-screen bg-gray-50",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"flex items-center justify-center w-16 h-16 border-4 border-gray-200 border-t-4 border-t-orange-500 rounded-full animate-spin mx-auto mb-4"}),(0,a.jsx)("h2",{className:"text-xl font-medium text-gray-700 mb-1",children:"Loading"}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"Verifying your session..."})]})})):"/login"===u||s?(0,a.jsx)(a.Fragment,{children:t}):null}},35695:(e,t,s)=>{"use strict";var a=s(18999);s.o(a,"usePathname")&&s.d(t,{usePathname:function(){return a.usePathname}}),s.o(a,"useRouter")&&s.d(t,{useRouter:function(){return a.useRouter}})},42355:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(19946).A)("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]])},54416:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(19946).A)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},85567:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,19324,23)),Promise.resolve().then(s.bind(s,27538)),Promise.resolve().then(s.bind(s,381)),Promise.resolve().then(s.bind(s,94425)),Promise.resolve().then(s.bind(s,25305))},94425:(e,t,s)=>{"use strict";s.d(t,{PopupProvider:()=>c,O:()=>d});var a=s(95155),r=s(12115),l=s(54416);function n(e){let{title:t,message:s,isOpen:n,onClose:o,type:i="info",autoClose:c=!0,autoCloseTime:d=3e3}=e,[u,x]=(0,r.useState)(!1);return((0,r.useEffect)(()=>{if(n&&(x(!0),c)){let e=setTimeout(()=>{x(!1),setTimeout(o,300)},d);return()=>clearTimeout(e)}},[n,c,d,o]),n||u)?(0,a.jsx)("div",{className:"fixed inset-0 flex items-center justify-center z-50 px-4 pointer-events-none",children:(0,a.jsx)("div",{className:"\n          ".concat((()=>{switch(i){case"success":return"bg-green-50 border-green-500 text-green-700";case"error":return"bg-red-50 border-red-500 text-red-700";case"warning":return"bg-yellow-50 border-yellow-500 text-yellow-700";default:return"bg-blue-50 border-blue-500 text-blue-700"}})()," \n          border rounded-lg shadow-lg max-w-md w-full pointer-events-auto\n          transition-opacity duration-300 ").concat(u?"opacity-100":"opacity-0","\n        "),children:(0,a.jsxs)("div",{className:"p-4 flex",children:[(0,a.jsx)("div",{className:"flex-shrink-0 ".concat((()=>{switch(i){case"success":return"text-green-500";case"error":return"text-red-500";case"warning":return"text-yellow-500";default:return"text-blue-500"}})()),children:(()=>{switch(i){case"success":return(0,a.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})});case"error":return(0,a.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})});case"warning":return(0,a.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})});default:return(0,a.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}})()}),(0,a.jsxs)("div",{className:"ml-3 flex-grow",children:[t&&(0,a.jsx)("h3",{className:"text-sm font-medium",children:t}),(0,a.jsx)("div",{className:"text-sm mt-1",children:s})]}),(0,a.jsx)("button",{onClick:()=>{x(!1),setTimeout(o,300)},className:"flex-shrink-0 ml-1 text-gray-400 hover:text-gray-500 focus:outline-none",children:(0,a.jsx)(l.A,{size:18})})]})})}):null}function o(e){let{title:t="Confirm Action",message:s,isOpen:n,onConfirm:o,onCancel:i,confirmText:c="Confirm",cancelText:d="Cancel"}=e,[u,x]=(0,r.useState)(!1);(0,r.useEffect)(()=>{n&&x(!0)},[n]);let h=()=>{x(!1),setTimeout(()=>{i()},300)};return n||u?(0,a.jsx)("div",{className:"fixed inset-0 flex items-center justify-center z-50 bg-black/50",children:(0,a.jsx)("div",{className:"\n          bg-white border rounded-lg shadow-lg max-w-md w-full\n          transition-opacity duration-300 ".concat(u?"opacity-100":"opacity-0","\n          transition-transform duration-300 ").concat(u?"scale-100":"scale-95","\n        "),children:(0,a.jsxs)("div",{className:"p-5",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:t}),(0,a.jsx)("button",{onClick:h,className:"text-gray-400 hover:text-gray-500 focus:outline-none",children:(0,a.jsx)(l.A,{size:20})})]}),(0,a.jsx)("div",{className:"mb-5",children:(0,a.jsx)("p",{className:"text-gray-600",children:s})}),(0,a.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,a.jsx)("button",{onClick:h,className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50 focus:outline-none",children:d}),(0,a.jsx)("button",{onClick:()=>{x(!1),setTimeout(()=>{o()},300)},className:"px-4 py-2 bg-red-600 border border-transparent rounded-md text-white hover:bg-red-700 focus:outline-none",children:c})]})]})})}):null}let i=(0,r.createContext)(void 0);function c(e){let{children:t}=e,[s,l]=(0,r.useState)([]),[c,d]=(0,r.useState)(null),u=e=>{l(t=>t.filter(t=>t.id!==e))},x=()=>{d(null)};return(0,a.jsxs)(i.Provider,{value:{showPopup:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=Date.now().toString(),{title:a,type:r="info",autoClose:n=!0,autoCloseTime:o=3e3}=t;l(t=>[...t,{id:s,message:e,title:a,type:r,autoClose:n,autoCloseTime:o}])},showConfirm:function(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=Date.now().toString(),{title:r,confirmText:l,cancelText:n}=s;d({id:a,message:e,title:r,confirmText:l,cancelText:n,onConfirm:t})}},children:[t,s.map(e=>(0,a.jsx)(n,{isOpen:!0,message:e.message,title:e.title,type:e.type,autoClose:e.autoClose,autoCloseTime:e.autoCloseTime,onClose:()=>u(e.id)},e.id)),c&&(0,a.jsx)(o,{isOpen:!0,message:c.message,title:c.title,confirmText:c.confirmText,cancelText:c.cancelText,onConfirm:()=>{c.onConfirm(),x()},onCancel:x})]})}function d(){let e=(0,r.useContext)(i);if(void 0===e)throw Error("usePopup must be used within a PopupProvider");return e}}},e=>{var t=t=>e(e.s=t);e.O(0,[533,997,95,355,441,684,358],()=>t(85567)),_N_E=e.O()}]);