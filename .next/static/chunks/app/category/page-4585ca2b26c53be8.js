(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[775],{19946:(e,t,a)=>{"use strict";a.d(t,{A:()=>o});var s=a(12115);let r=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),l=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,a)=>a?a.toUpperCase():t.toLowerCase()),i=e=>{let t=l(e);return t.charAt(0).toUpperCase()+t.slice(1)},c=function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return t.filter((e,t,a)=>!!e&&""!==e.trim()&&a.indexOf(e)===t).join(" ").trim()};var d={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let n=(0,s.forwardRef)((e,t)=>{let{color:a="currentColor",size:r=24,strokeWidth:l=2,absoluteStrokeWidth:i,className:n="",children:o,iconNode:x,...m}=e;return(0,s.createElement)("svg",{ref:t,...d,width:r,height:r,stroke:a,strokeWidth:i?24*Number(l)/Number(r):l,className:c("lucide",n),...m},[...x.map(e=>{let[t,a]=e;return(0,s.createElement)(t,a)}),...Array.isArray(o)?o:[o]])}),o=(e,t)=>{let a=(0,s.forwardRef)((a,l)=>{let{className:d,...o}=a;return(0,s.createElement)(n,{ref:l,iconNode:t,className:c("lucide-".concat(r(i(e))),"lucide-".concat(e),d),...o})});return a.displayName=i(e),a}},29869:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(19946).A)("upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]])},41973:(e,t,a)=>{Promise.resolve().then(a.bind(a,74034))},47924:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(19946).A)("search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},54416:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(19946).A)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},62525:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(19946).A)("trash-2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},68407:(e,t,a)=>{"use strict";a.d(t,{k:()=>d});var s=a(95155),r=a(12115),l=a(54416),i=a(29869),c=a(34355);function d(e){let{onClose:t,reload:a}=e,[d,n]=(0,r.useState)(""),[o,x]=(0,r.useState)(""),[m,g]=(0,r.useState)(null),[u,h]=(0,r.useState)(!1),y=async()=>{if(!d||!m)return void alert("Please provide a category name and image.");h(!0);try{let e=c.$.getInstance();new FormData().append("file",m);let s=(await e.uploadFile(m)).url;await e.createNewCategory(d,[s]),a(),alert("Category added successfully!"),t()}catch(e){console.error("Failed to add category:",e),alert("Failed to add category.")}finally{h(!1)}};return(0,s.jsx)("div",{className:"fixed inset-0 bg-black/50 bg-opacity-50 flex items-center justify-center z-50",children:(0,s.jsx)("div",{className:"bg-white rounded-lg w-full max-w-lg",children:(0,s.jsxs)("div",{className:"p-6",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold text-gray-800",children:"New Category"}),(0,s.jsx)("button",{onClick:t,className:"text-gray-500 hover:text-gray-700",children:(0,s.jsx)(l.A,{size:24})})]}),(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm text-gray-600 mb-1",children:"Category Name"}),(0,s.jsx)("input",{type:"text",value:d,onChange:e=>n(e.target.value),placeholder:"Enter category name",className:"w-full border rounded-md px-3 py-2 text-gray-800"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm text-gray-600 mb-1",children:"Category Image"}),(0,s.jsxs)("div",{className:"border-2 border-dashed rounded-md p-4 flex flex-col items-center justify-center",children:[(0,s.jsx)("input",{type:"file",accept:"image/png, image/jpeg, image/jpg",onChange:e=>{var t;let a=(null==(t=e.target.files)?void 0:t[0])||null;g(a),a&&x(URL.createObjectURL(a))},className:"hidden",id:"categoryImageInput"}),(0,s.jsx)("label",{htmlFor:"categoryImageInput",className:"cursor-pointer",children:(0,s.jsxs)("div",{className:"flex flex-col items-center",children:[o?(0,s.jsx)("img",{src:o,alt:"Preview",className:"h-30 w-auto mb-2"}):(0,s.jsx)(i.A,{className:"h-10 w-10 text-gray-400 mb-2"}),(0,s.jsxs)("p",{className:"text-sm text-gray-600 mb-1",children:["Drag and Drop an image here or ",(0,s.jsx)("span",{className:"text-blue-500",children:"Select file"})]}),(0,s.jsx)("p",{className:"text-xs text-gray-500",children:"Formats Supported: PNG, JPG, JPEG"})]})})]})]}),(0,s.jsxs)("div",{className:"mt-8 flex space-x-3",children:[(0,s.jsx)("button",{className:"flex-1 py-2 border border-gray-300 rounded-md text-gray-800 hover:bg-gray-50",onClick:t,disabled:u,children:"Cancel"}),(0,s.jsx)("button",{className:"flex-1 py-2 bg-orange-500 text-white rounded-md hover:bg-orange-600",onClick:y,disabled:u,children:u?"Adding...":"Add Category"})]})]})]})})})}},74034:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>u});var s=a(95155),r=a(12115),l=a(34355),i=a(84616),c=a(47924),d=a(89917),n=a(62525),o=a(68407),x=a(54416),m=a(29869);function g(e){let{onClose:t,reload:a,category:i}=e,[c,d]=(0,r.useState)(i.name),[o,g]=(0,r.useState)(""),[u,h]=(0,r.useState)(null),[y,p]=(0,r.useState)(!1),[b,j]=(0,r.useState)(i.image_url),f=async()=>{if(!c)return void alert("Please provide a category name.");p(!0);try{let e=l.$.getInstance(),s=[...b];if(u){let t=await e.uploadFile(u);s.push(t.url)}await e.updateCategory(i.id,c,s),a(),alert("Category updated successfully!"),t()}catch(e){console.error("Failed to update category:",e),alert("Failed to update category.")}finally{p(!1)}},v=e=>{j(b.filter((t,a)=>a!==e))};return(0,s.jsx)("div",{className:"fixed inset-0 bg-black/50 bg-opacity-50 flex items-center justify-center z-50",children:(0,s.jsx)("div",{className:"bg-white rounded-lg w-full max-w-lg",children:(0,s.jsxs)("div",{className:"p-6",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold text-gray-800",children:"Edit Category"}),(0,s.jsx)("button",{onClick:t,className:"text-gray-500 hover:text-gray-700",children:(0,s.jsx)(x.A,{size:24})})]}),(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm text-gray-600 mb-1",children:"Category Name"}),(0,s.jsx)("input",{type:"text",value:c,onChange:e=>d(e.target.value),placeholder:"Enter category name",className:"w-full border rounded-md px-3 py-2 text-gray-800"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm text-gray-600 mb-1",children:"Existing Images"}),(0,s.jsx)("div",{className:"flex flex-wrap gap-4 mb-4",children:b.map((e,t)=>(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("img",{src:e,alt:"Category ".concat(t+1),className:"h-24 w-24 object-cover rounded-md"}),(0,s.jsx)("button",{onClick:()=>v(t),className:"absolute -top-2 -right-2 p-1 bg-red-500 rounded-full text-white hover:bg-red-600",children:(0,s.jsx)(n.A,{size:16})})]},t))})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm text-gray-600 mb-1",children:"Add New Image"}),(0,s.jsxs)("div",{className:"border-2 border-dashed rounded-md p-4 flex flex-col items-center justify-center",children:[(0,s.jsx)("input",{type:"file",accept:"image/png, image/jpeg, image/jpg",onChange:e=>{var t;let a=(null==(t=e.target.files)?void 0:t[0])||null;h(a),a&&g(URL.createObjectURL(a))},className:"hidden",id:"categoryImageInput"}),(0,s.jsx)("label",{htmlFor:"categoryImageInput",className:"cursor-pointer",children:(0,s.jsxs)("div",{className:"flex flex-col items-center",children:[o?(0,s.jsx)("img",{src:o,alt:"Preview",className:"h-30 w-auto mb-2"}):(0,s.jsx)(m.A,{className:"h-10 w-10 text-gray-400 mb-2"}),(0,s.jsxs)("p",{className:"text-sm text-gray-600 mb-1",children:["Drag and Drop an image here or ",(0,s.jsx)("span",{className:"text-blue-500",children:"Select file"})]}),(0,s.jsx)("p",{className:"text-xs text-gray-500",children:"Formats Supported: PNG, JPG, JPEG"})]})})]})]}),(0,s.jsxs)("div",{className:"mt-8 flex space-x-3",children:[(0,s.jsx)("button",{className:"flex-1 py-2 border border-gray-300 rounded-md text-gray-800 hover:bg-gray-50",onClick:t,disabled:y,children:"Cancel"}),(0,s.jsx)("button",{className:"flex-1 py-2 bg-orange-500 text-white rounded-md hover:bg-orange-600",onClick:f,disabled:y,children:y?"Updating...":"Update Category"})]})]})]})})})}function u(){let[e,t]=(0,r.useState)([]),[a,x]=(0,r.useState)(""),[m,u]=(0,r.useState)(!1),[h,y]=(0,r.useState)(!1),[p,b]=(0,r.useState)(null),j=async()=>{try{let e=l.$.getInstance(),a=await e.getAllCategories();t(a)}catch(e){console.error("Failed to fetch categories:",e)}};(0,r.useEffect)(()=>{j()},[]);let f=async e=>{if(window.confirm("Are you sure you want to delete this category?"))try{let t=l.$.getInstance();await t.deleteCategory(e),await j()}catch(e){console.error("Failed to delete category:",e)}},v=e=>{b(e),y(!0)},N=e.filter(e=>e.name.toLowerCase().includes(a.toLowerCase()));return(0,s.jsxs)("div",{className:"p-6 bg-gray-50 min-h-screen",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-8",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-3xl font-semibold text-gray-900",children:"Categories"}),(0,s.jsx)("p",{className:"text-gray-500 mt-1",children:"Manage your product categories"})]}),(0,s.jsxs)("button",{onClick:()=>u(!0),className:"bg-orange-500 text-white px-5 py-2 rounded-lg flex items-center gap-2 hover:bg-orange-600 transition",children:[(0,s.jsx)(i.A,{size:18}),"Add Category"]})]}),(0,s.jsx)("div",{className:"mb-6",children:(0,s.jsxs)("div",{className:"relative max-w-md",children:[(0,s.jsx)(c.A,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:18}),(0,s.jsx)("input",{type:"text",placeholder:"Search categories...",value:a,onChange:e=>x(e.target.value),className:"w-full pl-11 pr-4 py-2.5 border border-gray-300 rounded-lg bg-white focus:ring-2 focus:ring-orange-500 focus:outline-none transition placeholder-gray-400 text-gray-600"})]})}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-5",children:[N.map(e=>(0,s.jsxs)("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden hover:shadow-md transition",children:[(0,s.jsx)("div",{className:"h-44 bg-white overflow-hidden flex justify-center items-center",children:(0,s.jsx)("img",{src:e.image_url[0]||"/placeholder.jpg",alt:e.name,className:"w-auto h-full object-fit"})}),(0,s.jsxs)("div",{className:"p-4 flex justify-between items-start",children:[(0,s.jsx)("h3",{className:"text-base font-medium text-gray-800",children:e.name}),(0,s.jsxs)("div",{className:"flex gap-1",children:[(0,s.jsx)("button",{onClick:()=>v(e),className:"p-2 text-gray-500 hover:text-blue-600 hover:bg-blue-50 rounded-full",title:"Edit category",children:(0,s.jsx)(d.A,{size:16})}),(0,s.jsx)("button",{onClick:()=>f(e.id),className:"p-2 text-gray-500 hover:text-red-600 hover:bg-red-50 rounded-full",title:"Delete category",children:(0,s.jsx)(n.A,{size:16})})]})]})]},e.id)),0===N.length&&(0,s.jsx)("div",{className:"col-span-full text-center py-20",children:(0,s.jsx)("p",{className:"text-gray-400 text-base",children:"No categories found."})})]}),m&&(0,s.jsx)(o.k,{onClose:()=>u(!1),reload:j}),h&&p&&(0,s.jsx)(g,{onClose:()=>{y(!1),b(null)},reload:j,category:p})]})}},84616:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(19946).A)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},89917:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(19946).A)("pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]])}},e=>{var t=t=>e(e.s=t);e.O(0,[997,355,441,684,358],()=>t(41973)),_N_E=e.O()}]);