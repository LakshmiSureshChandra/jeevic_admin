{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/chand/OneDrive/Desktop/jeevic_admin/components/breadcrumb.tsx"],"sourcesContent":["import Link from \"next/link\"\r\nimport { ChevronRight } from \"lucide-react\"\r\n\r\ninterface BreadcrumbProps {\r\n  items: string[];\r\n}\r\n\r\nexport function Breadcrumb({ items }: BreadcrumbProps) {\r\n  return (\r\n    <div className=\"px-6 pt-3 flex items-center text-sm\">\r\n      {items.map((item, index) => (\r\n        <div key={index} className=\"flex items-center\">\r\n          {index > 0 && <ChevronRight size={16} className=\"mx-2 text-black\" />}\r\n          <Link\r\n            href=\"#\"\r\n            // TODO: Replace '#' with actual item.href if available\r\n\r\n            className={`${\r\n              index === items.length - 1 ? \"text-gray-800 font-medium\" : \"text-black hover:text-gray-700\"\r\n            }`}\r\n          >\r\n            {item}\r\n          </Link>\r\n        </div>\r\n      ))}\r\n    </div>\r\n  )\r\n}\r\n"],"names":[],"mappings":";;;;AAAA;AACA;;;;AAMO,SAAS,WAAW,EAAE,KAAK,EAAmB;IACnD,qBACE,6LAAC;QAAI,WAAU;kBACZ,MAAM,GAAG,CAAC,CAAC,MAAM,sBAChB,6LAAC;gBAAgB,WAAU;;oBACxB,QAAQ,mBAAK,6LAAC,yNAAA,CAAA,eAAY;wBAAC,MAAM;wBAAI,WAAU;;;;;;kCAChD,6LAAC,+JAAA,CAAA,UAAI;wBACH,MAAK;wBACL,uDAAuD;wBAEvD,WAAW,GACT,UAAU,MAAM,MAAM,GAAG,IAAI,8BAA8B,kCAC3D;kCAED;;;;;;;eAVK;;;;;;;;;;AAgBlB;KApBgB","debugId":null}},
    {"offset": {"line": 64, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/chand/OneDrive/Desktop/jeevic_admin/components/coupan-codes/metric-cards.tsx"],"sourcesContent":["import { FileText, Users, DollarSign } from \"lucide-react\"\r\nimport React from \"react\"\r\n\r\ninterface MetricCardProps {\r\n  title: string;\r\n  value: string;\r\n  change?: number; \r\n  icon: React.ReactNode;\r\n}\r\n\r\nfunction MetricCard({ title, value, change, icon }: MetricCardProps) {\r\n  return (\r\n    <div className=\"bg-white border rounded-lg p-4\">\r\n      <div className=\"flex items-center mb-2\">\r\n        {icon}\r\n        <span className=\"text-sm text-gray-800 ml-2\">{title}</span>\r\n      </div>\r\n      <div className=\"flex items-center justify-between\">\r\n        <h3 className=\"text-2xl font-bold text-gray-800\">{value}</h3>\r\n        {change !== undefined && (\r\n          <div className={`flex items-center text-sm ${change > 0 ? \"text-green-500\" : \"text-red-500\"}`}>\r\n            <span>\r\n              {change > 0 ? \"+\" : \"\"}\r\n              {change}%\r\n            </span>\r\n            <svg\r\n              className={`h-4 w-4 ml-1 ${change > 0 ? \"\" : \"transform rotate-180\"}`}\r\n              fill=\"none\"\r\n              viewBox=\"0 0 24 24\"\r\n              stroke=\"currentColor\"\r\n            >\r\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M5 10l7-7m0 0l7 7m-7-7v18\" />\r\n            </svg>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\ninterface MetricCardsProps {\r\n  totalCoupons: number;\r\n  totalUses: number;\r\n  loading?: boolean;\r\n}\r\nexport function MetricCards({ totalCoupons, totalUses, loading }: MetricCardsProps) {\r\n  return (\r\n    <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6\">\r\n      <MetricCard title=\"Total Coupons\" value={loading ? \"...\" : totalCoupons.toString()} icon={<FileText className=\"h-5 w-5 text-gray-500\" />} />\r\n      <MetricCard title=\"Total Uses Remaining\" value={loading ? \"...\" : totalUses.toString()} icon={<Users className=\"h-5 w-5 text-gray-500\" />} />\r\n      {/* Add more cards as needed */}\r\n    </div>\r\n  )\r\n}"],"names":[],"mappings":";;;;AAAA;AAAA;;;AAUA,SAAS,WAAW,EAAE,KAAK,EAAE,KAAK,EAAE,MAAM,EAAE,IAAI,EAAmB;IACjE,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC;gBAAI,WAAU;;oBACZ;kCACD,6LAAC;wBAAK,WAAU;kCAA8B;;;;;;;;;;;;0BAEhD,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBAAG,WAAU;kCAAoC;;;;;;oBACjD,WAAW,2BACV,6LAAC;wBAAI,WAAW,CAAC,0BAA0B,EAAE,SAAS,IAAI,mBAAmB,gBAAgB;;0CAC3F,6LAAC;;oCACE,SAAS,IAAI,MAAM;oCACnB;oCAAO;;;;;;;0CAEV,6LAAC;gCACC,WAAW,CAAC,aAAa,EAAE,SAAS,IAAI,KAAK,wBAAwB;gCACrE,MAAK;gCACL,SAAQ;gCACR,QAAO;0CAEP,cAAA,6LAAC;oCAAK,eAAc;oCAAQ,gBAAe;oCAAQ,aAAa;oCAAG,GAAE;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAOnF;KA5BS;AAmCF,SAAS,YAAY,EAAE,YAAY,EAAE,SAAS,EAAE,OAAO,EAAoB;IAChF,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC;gBAAW,OAAM;gBAAgB,OAAO,UAAU,QAAQ,aAAa,QAAQ;gBAAI,oBAAM,6LAAC,iNAAA,CAAA,WAAQ;oBAAC,WAAU;;;;;;;;;;;0BAC9G,6LAAC;gBAAW,OAAM;gBAAuB,OAAO,UAAU,QAAQ,UAAU,QAAQ;gBAAI,oBAAM,6LAAC,uMAAA,CAAA,QAAK;oBAAC,WAAU;;;;;;;;;;;;;;;;;AAIrH;MARgB","debugId":null}},
    {"offset": {"line": 213, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/chand/OneDrive/Desktop/jeevic_admin/components/coupan-codes/coupon-tabs.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport { useState } from \"react\"\r\nimport { Search } from \"lucide-react\"\r\n\r\ninterface CouponTabsProps {\r\n  activeTab: \"all\" | \"active\" | \"inactive\";\r\n  setActiveTab: React.Dispatch<React.SetStateAction<\"all\" | \"active\" | \"inactive\">>;\r\n  searchTerm: string;\r\n  setSearchTerm: React.Dispatch<React.SetStateAction<string>>;\r\n  totalCoupons: number;\r\n  activeCoupons: number;\r\n  inactiveCoupons: number;\r\n}\r\nexport function CouponTabs({\r\n  activeTab,\r\n  setActiveTab,\r\n  searchTerm,\r\n  setSearchTerm,\r\n  totalCoupons,\r\n  activeCoupons,\r\n  inactiveCoupons,\r\n}: CouponTabsProps) {\r\n  const tabs = [\r\n    { id: \"all\", label: \"All Coupons\", count: totalCoupons },\r\n    { id: \"active\", label: \"Active Coupons\", count: activeCoupons },\r\n    { id: \"inactive\", label: \"Inactive Coupons\", count: inactiveCoupons },\r\n  ]\r\n\r\n  return (\r\n    <div className=\"flex flex-col md:flex-row md:items-center md:justify-between mb-4\">\r\n      <div className=\"border-b mb-4 md:mb-0\">\r\n        <div className=\"flex space-x-6\">\r\n          {tabs.map((tab) => (\r\n            <button\r\n              key={tab.id}\r\n              className={`pb-2 px-1 font-medium text-sm ${\r\n                activeTab === tab.id\r\n                  ? \"text-orange-500 border-b-2 border-orange-500\"\r\n                  : \"text-gray-800 hover:text-gray-600\"\r\n              }`}\r\n              onClick={() => setActiveTab(tab.id as \"all\" | \"active\" | \"inactive\")}\r\n            >\r\n              {tab.label}\r\n              {tab.count !== null && (\r\n                <span className=\"ml-1 text-xs bg-gray-100 px-1.5 py-0.5 rounded-full\">{tab.count}</span>\r\n              )}\r\n            </button>\r\n          ))}\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"relative\">\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"Search for Code, Title, Validity\"\r\n          className=\"pl-10 pr-4 py-2 text-gray-800 border rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-orange-500 w-full md:w-64\"\r\n          value={searchTerm}\r\n          onChange={(e) => setSearchTerm(e.target.value)}\r\n        />\r\n        <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400\" size={18} />\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n"],"names":[],"mappings":";;;;AAGA;AAHA;;;AAcO,SAAS,WAAW,EACzB,SAAS,EACT,YAAY,EACZ,UAAU,EACV,aAAa,EACb,YAAY,EACZ,aAAa,EACb,eAAe,EACC;IAChB,MAAM,OAAO;QACX;YAAE,IAAI;YAAO,OAAO;YAAe,OAAO;QAAa;QACvD;YAAE,IAAI;YAAU,OAAO;YAAkB,OAAO;QAAc;QAC9D;YAAE,IAAI;YAAY,OAAO;YAAoB,OAAO;QAAgB;KACrE;IAED,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC;gBAAI,WAAU;0BACb,cAAA,6LAAC;oBAAI,WAAU;8BACZ,KAAK,GAAG,CAAC,CAAC,oBACT,6LAAC;4BAEC,WAAW,CAAC,8BAA8B,EACxC,cAAc,IAAI,EAAE,GAChB,iDACA,qCACJ;4BACF,SAAS,IAAM,aAAa,IAAI,EAAE;;gCAEjC,IAAI,KAAK;gCACT,IAAI,KAAK,KAAK,sBACb,6LAAC;oCAAK,WAAU;8CAAuD,IAAI,KAAK;;;;;;;2BAV7E,IAAI,EAAE;;;;;;;;;;;;;;;0BAiBnB,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBACC,MAAK;wBACL,aAAY;wBACZ,WAAU;wBACV,OAAO;wBACP,UAAU,CAAC,IAAM,cAAc,EAAE,MAAM,CAAC,KAAK;;;;;;kCAE/C,6LAAC,yMAAA,CAAA,SAAM;wBAAC,WAAU;wBAAmE,MAAM;;;;;;;;;;;;;;;;;;AAInG;KAlDgB","debugId":null}},
    {"offset": {"line": 322, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/chand/OneDrive/Desktop/jeevic_admin/components/coupan-codes/coupon-hover-card.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport { CSSProperties, useState } from \"react\"\r\n\r\nimport { ICoupon } from \"@/libs/api\"\r\n\r\ninterface CouponInfoPopupProps {\r\n  coupon: ICoupon\r\n  mode: \"hover\" | \"popup\"\r\n  position?: { x: number; y: number }\r\n  onClose?: () => void\r\n  onUpdate?: (updatedCoupon: ICoupon) => void\r\n}\r\n\r\nexport function CouponInfoPopup({ coupon, mode, position, onClose, onUpdate }: CouponInfoPopupProps) {\r\n  const [couponData, setCouponData] = useState<ICoupon>(coupon)\r\n\r\n  const style: CSSProperties = mode === \"hover\" && position \r\n    ? {\r\n        position: \"fixed\",\r\n        left: `${position.x}px`,\r\n        top: `${position.y + 24}px`, // Add some offset from the icon\r\n        zIndex: 50,\r\n        width: \"300px\",\r\n      }\r\n    : {\r\n        position: \"fixed\",\r\n        left: \"50%\",\r\n        top: \"50%\",\r\n        transform: \"translate(-50%, -50%)\",\r\n        zIndex: 50,\r\n        width: \"300px\",\r\n      }\r\n  \r\n  // const toggleActive = () => {\r\n  //   const updatedCoupon = { ...couponData, active: !couponData.active }\r\n  //   setCouponData(updatedCoupon)\r\n  //   if (onUpdate) {\r\n  //     onUpdate(updatedCoupon)\r\n  //   }\r\n  // }\r\n\r\n  const toggleOneTimeUse = () => {\r\n    const updatedCoupon = { ...couponData, oneTimeUse: !couponData.is_one_time }\r\n    setCouponData(updatedCoupon)\r\n    if (onUpdate) {\r\n      onUpdate(updatedCoupon)\r\n    }\r\n  }\r\n\r\n  return (\r\n    <>\r\n      {mode === \"popup\" && (\r\n        <div \r\n          className=\"fixed inset-0 bg-black/20 bg-opacity-50 z-40\"\r\n          onClick={onClose}\r\n        />\r\n      )}\r\n      <div \r\n        className={`\r\n          bg-white border rounded-md shadow-lg\r\n          ${mode === \"hover\" ? \"p-3\" : \"p-4\"}\r\n        `}\r\n        style={style}\r\n      >\r\n        {mode === \"popup\" && (\r\n          <div className=\"flex justify-between items-center border-b pb-3 mb-4\">\r\n            <h3 className=\"font-medium text-gray-800\">Coupon Details</h3>\r\n            <button \r\n              onClick={onClose}\r\n              className=\"text-gray-400 hover:text-gray-600\"\r\n            >\r\n              <svg className=\"h-5 w-5\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\r\n              </svg>\r\n            </button>\r\n          </div>\r\n        )}\r\n\r\n        <div className={mode === \"hover\" ? \"text-sm\" : \"\"}>\r\n          <div className=\"flex justify-between items-start mb-4\">\r\n            <div>\r\n              <div className=\"text-xs text-gray-500\">COUPON ID</div>\r\n              <div className=\"font-medium text-gray-800\">{couponData.id}</div>\r\n            </div>\r\n            <div>\r\n              <div className=\"text-xs text-gray-500\">CODE</div>\r\n              <div className=\"font-medium text-gray-800\">{couponData.code}</div>\r\n            </div>\r\n          \r\n          </div>\r\n\r\n          <div className=\"flex items-center justify-between mb-4\">\r\n          \r\n\r\n          <div className=\"mb-4\">\r\n            <div className=\"text-xs text-gray-500\">NO. OF USES REMAINING</div>\r\n            <div className=\"font-medium text-gray-800\">{couponData.no_of_uses}</div>\r\n          </div>\r\n       \r\n\r\n        \r\n        </div>\r\n        <div className=\"flex items-center justify-between mb-4\">\r\n          \r\n\r\n        <div>\r\n              <div className=\"text-xs text-gray-500\">DISCOUNT TYPE</div>\r\n              <div className=\"font-medium text-gray-800\">{couponData.meta_data.discountType}</div>\r\n            </div>\r\n        <div>\r\n              <div className=\"text-xs text-gray-500\">DISCOUNT VALUE</div>\r\n              <div className=\"font-medium text-gray-800\">{couponData.meta_data.discountAmount\r\n              }</div>\r\n            </div>\r\n        \r\n        </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  )\r\n}"],"names":[],"mappings":";;;;AAEA;;;AAFA;;AAcO,SAAS,gBAAgB,EAAE,MAAM,EAAE,IAAI,EAAE,QAAQ,EAAE,OAAO,EAAE,QAAQ,EAAwB;;IACjG,MAAM,CAAC,YAAY,cAAc,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAW;IAEtD,MAAM,QAAuB,SAAS,WAAW,WAC7C;QACE,UAAU;QACV,MAAM,GAAG,SAAS,CAAC,CAAC,EAAE,CAAC;QACvB,KAAK,GAAG,SAAS,CAAC,GAAG,GAAG,EAAE,CAAC;QAC3B,QAAQ;QACR,OAAO;IACT,IACA;QACE,UAAU;QACV,MAAM;QACN,KAAK;QACL,WAAW;QACX,QAAQ;QACR,OAAO;IACT;IAEJ,+BAA+B;IAC/B,wEAAwE;IACxE,iCAAiC;IACjC,oBAAoB;IACpB,8BAA8B;IAC9B,MAAM;IACN,IAAI;IAEJ,MAAM,mBAAmB;QACvB,MAAM,gBAAgB;YAAE,GAAG,UAAU;YAAE,YAAY,CAAC,WAAW,WAAW;QAAC;QAC3E,cAAc;QACd,IAAI,UAAU;YACZ,SAAS;QACX;IACF;IAEA,qBACE;;YACG,SAAS,yBACR,6LAAC;gBACC,WAAU;gBACV,SAAS;;;;;;0BAGb,6LAAC;gBACC,WAAW,CAAC;;UAEV,EAAE,SAAS,UAAU,QAAQ,MAAM;QACrC,CAAC;gBACD,OAAO;;oBAEN,SAAS,yBACR,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;gCAAG,WAAU;0CAA4B;;;;;;0CAC1C,6LAAC;gCACC,SAAS;gCACT,WAAU;0CAEV,cAAA,6LAAC;oCAAI,WAAU;oCAAU,MAAK;oCAAO,SAAQ;oCAAY,QAAO;8CAC9D,cAAA,6LAAC;wCAAK,eAAc;wCAAQ,gBAAe;wCAAQ,aAAa;wCAAG,GAAE;;;;;;;;;;;;;;;;;;;;;;kCAM7E,6LAAC;wBAAI,WAAW,SAAS,UAAU,YAAY;;0CAC7C,6LAAC;gCAAI,WAAU;;kDACb,6LAAC;;0DACC,6LAAC;gDAAI,WAAU;0DAAwB;;;;;;0DACvC,6LAAC;gDAAI,WAAU;0DAA6B,WAAW,EAAE;;;;;;;;;;;;kDAE3D,6LAAC;;0DACC,6LAAC;gDAAI,WAAU;0DAAwB;;;;;;0DACvC,6LAAC;gDAAI,WAAU;0DAA6B,WAAW,IAAI;;;;;;;;;;;;;;;;;;0CAK/D,6LAAC;gCAAI,WAAU;0CAGf,cAAA,6LAAC;oCAAI,WAAU;;sDACb,6LAAC;4CAAI,WAAU;sDAAwB;;;;;;sDACvC,6LAAC;4CAAI,WAAU;sDAA6B,WAAW,UAAU;;;;;;;;;;;;;;;;;0CAMrE,6LAAC;gCAAI,WAAU;;kDAGf,6LAAC;;0DACK,6LAAC;gDAAI,WAAU;0DAAwB;;;;;;0DACvC,6LAAC;gDAAI,WAAU;0DAA6B,WAAW,SAAS,CAAC,YAAY;;;;;;;;;;;;kDAEnF,6LAAC;;0DACK,6LAAC;gDAAI,WAAU;0DAAwB;;;;;;0DACvC,6LAAC;gDAAI,WAAU;0DAA6B,WAAW,SAAS,CAAC,cAAc;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAS7F;GA3GgB;KAAA","debugId":null}},
    {"offset": {"line": 604, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/chand/OneDrive/Desktop/jeevic_admin/components/coupan-codes/edit-coupon-modal.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport { useState, useEffect } from \"react\"\r\nimport { X } from \"lucide-react\"\r\nimport { ICoupon, APISDK } from \"@/libs/api\"\r\n\r\ninterface EditCouponModalProps {\r\n  coupon: ICoupon\r\n  onClose: () => void\r\n  onUpdated: () => Promise<void>\r\n}\r\n\r\ntype DiscountType = \"percentage\" | \"flat\"\r\n\r\nexport function EditCouponModal({ coupon, onClose, onUpdated }: EditCouponModalProps) {\r\n  const [couponCode, setCouponCode] = useState<string>(\"\")\r\n  const [oneTimeUse, setOneTimeUse] = useState<boolean>(true)\r\n  const [totalUses, setTotalUses] = useState<string>(\"\")\r\n  const [expiryDate, setExpiryDate] = useState<string>(\"\")\r\n  const [discountType, setDiscountType] = useState<DiscountType>(\"percentage\")\r\n  const [discountAmount, setDiscountAmount] = useState<string>(\"\")\r\n  const [minimumCartValue, setMinimumCartValue] = useState<string>(\"\")\r\n  const [terms, setTerms] = useState<string[]>([])\r\n\r\n  useEffect(() => {\r\n    setCouponCode(coupon.code)\r\n    setOneTimeUse(coupon.is_one_time)\r\n    setTotalUses(coupon.no_of_uses === Number.MAX_SAFE_INTEGER ? \"unlimited\" : coupon.no_of_uses.toString())\r\n    setExpiryDate(coupon.expires_on ? new Date(coupon.expires_on).toISOString().split(\"T\")[0] : \"\")\r\n    setDiscountType(coupon.meta_data.discountType as DiscountType)\r\n    setDiscountAmount(coupon.meta_data.discountAmount || \"\")\r\n    setMinimumCartValue(coupon.meta_data.minimumCartValue || \"\")\r\n    try {\r\n      setTerms(JSON.parse(coupon.meta_data.terms || \"[]\"))\r\n    } catch {\r\n      setTerms([])\r\n    }\r\n  }, [coupon])\r\n\r\n  const handleTermChange = (index: number, value: string) => {\r\n    setTerms(prev => prev.map((term, i) => (i === index ? value : term)))\r\n  }\r\n\r\n  const handleAddTerm = () => {\r\n    setTerms(prev => [...prev, \"\"])\r\n  }\r\n\r\n  const handleRemoveTerm = (index: number) => {\r\n    setTerms(prev => prev.filter((_, i) => i !== index))\r\n  }\r\n\r\n  const handleSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault()\r\n    const couponData = {\r\n      code: couponCode,\r\n      is_one_time: oneTimeUse,\r\n      expires_on: new Date(expiryDate),\r\n      no_of_uses: totalUses === \"unlimited\" ? Number.MAX_SAFE_INTEGER : Number(totalUses),\r\n      meta_data: {\r\n        discountType,\r\n        discountAmount,\r\n        minimumCartValue,\r\n        terms: JSON.stringify(terms)\r\n      }\r\n    }\r\n    await APISDK.getInstance().updateCoupon(coupon.id, couponData)\r\n    await onUpdated()\r\n    onClose()\r\n  }\r\n\r\n  return (\r\n    <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 overflow-auto\">\r\n      <div className=\"bg-white rounded-lg w-full max-w-md max-h-[90vh] overflow-y-auto\">\r\n        <div className=\"p-6\">\r\n          <div className=\"flex justify-between items-center mb-6\">\r\n            <h2 className=\"text-lg font-medium text-gray-800\">Edit Coupon</h2>\r\n            <button\r\n              onClick={onClose}\r\n              className=\"text-gray-400 hover:text-gray-600 transition-colors\"\r\n              aria-label=\"Close modal\"\r\n            >\r\n              <X size={20} />\r\n            </button>\r\n          </div>\r\n          <form onSubmit={handleSubmit}>\r\n            <div className=\"space-y-6\">\r\n              <div>\r\n                <input\r\n                  type=\"text\"\r\n                  value={couponCode}\r\n                  onChange={(e) => setCouponCode(e.target.value)}\r\n                  placeholder=\"Enter coupon code\"\r\n                  className=\"w-full border rounded-md px-3 py-2 text-gray-800\"\r\n                />\r\n                <p className=\"text-xs text-gray-500 mt-1\">Coupon ID will be generated automatically</p>\r\n              </div>\r\n              <div className=\"flex items-center justify-between\">\r\n                <span className=\"text-gray-800\">One Time Use Per User</span>\r\n                <div className=\"relative inline-flex items-center cursor-pointer\">\r\n                  <div\r\n                    className={`w-10 h-5 rounded-full ${oneTimeUse ? \"bg-orange-500\" : \"bg-gray-200\"}`}\r\n                    onClick={() => setOneTimeUse(!oneTimeUse)}\r\n                  >\r\n                    <div\r\n                      className={`absolute w-3.5 h-3.5 bg-white rounded-full top-[3px] transition-transform ${\r\n                        oneTimeUse ? \"translate-x-[22px]\" : \"translate-x-[3px]\"\r\n                      }`}\r\n                    ></div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div className=\"grid grid-cols-2 gap-4\">\r\n                <div>\r\n                  <label className=\"block text-sm text-gray-600 mb-1\">Total No. Of Uses</label>\r\n                  <div className=\"relative\">\r\n                    <input\r\n                      type=\"number\"\r\n                      value={totalUses}\r\n                      onChange={(e) => setTotalUses(e.target.value)}\r\n                      placeholder=\"total number uses\"\r\n                      className=\"w-full border rounded-md px-3 py-2 text-gray-800\"\r\n                    />\r\n                  </div>\r\n                </div>\r\n                <div>\r\n                  <label className=\"block text-sm text-gray-600 mb-1\">Expiry</label>\r\n                  <div className=\"relative\">\r\n                    <input\r\n                      type=\"date\"\r\n                      value={expiryDate}\r\n                      onChange={(e) => setExpiryDate(e.target.value)}\r\n                      className=\"w-full border rounded-md px-3 py-2 text-gray-800\"\r\n                    />\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div>\r\n                <label className=\"block text-sm text-gray-600 mb-2\">Discount Details</label>\r\n                <div className=\"flex space-x-6\">\r\n                  <label className=\"flex items-center\">\r\n                    <input\r\n                      type=\"radio\"\r\n                      name=\"discountType\"\r\n                      checked={discountType === \"percentage\"}\r\n                      onChange={() => setDiscountType(\"percentage\")}\r\n                      className=\"mr-2 text-orange-500\"\r\n                    />\r\n                    <span className=\"text-gray-800\">Percentage%</span>\r\n                  </label>\r\n                  <label className=\"flex items-center\">\r\n                    <input\r\n                      type=\"radio\"\r\n                      name=\"discountType\"\r\n                      checked={discountType === \"flat\"}\r\n                      onChange={() => setDiscountType(\"flat\")}\r\n                      className=\"mr-2 text-orange-500\"\r\n                    />\r\n                    <span className=\"text-gray-800\">Flat Discount(₹)</span>\r\n                  </label>\r\n                </div>\r\n              </div>\r\n              <div>\r\n                <label className=\"block text-sm text-gray-600 mb-1\">Flat Discount Amount(₹)</label>\r\n                <input\r\n                  type=\"text\"\r\n                  value={discountAmount}\r\n                  onChange={(e) => setDiscountAmount(e.target.value)}\r\n                  className=\"w-full border rounded-md px-3 py-2 text-gray-800\"\r\n                />\r\n              </div>\r\n              <div>\r\n                <label className=\"block text-sm text-gray-600 mb-1\">Minimum Cart Value</label>\r\n                <input\r\n                  type=\"text\"\r\n                  value={minimumCartValue}\r\n                  onChange={(e) => setMinimumCartValue(e.target.value)}\r\n                  className=\"w-full border rounded-md px-3 py-2 text-gray-800\"\r\n                />\r\n              </div>\r\n              <div>\r\n                <label className=\"block text-sm text-gray-600 mb-2\">Terms & Conditions</label>\r\n                <div className=\"bg-gray-50 p-3 rounded-md max-h-40 overflow-y-auto\">\r\n                  <ol className=\"list-decimal pl-5 text-sm text-gray-800 space-y-2\">\r\n                    {terms.map((term, idx) => (\r\n                      <li key={idx} className=\"flex items-center space-x-2\">\r\n                        <input\r\n                          type=\"text\"\r\n                          value={term}\r\n                          onChange={e => handleTermChange(idx, e.target.value)}\r\n                          className=\"flex-1 border rounded-md px-2 py-1 text-gray-800\"\r\n                        />\r\n                        {terms.length > 1 && (\r\n                          <button\r\n                            type=\"button\"\r\n                            onClick={() => handleRemoveTerm(idx)}\r\n                            className=\"text-red-500 hover:text-red-700 px-2\"\r\n                            aria-label=\"Remove term\"\r\n                          >\r\n                            &times;\r\n                          </button>\r\n                        )}\r\n                      </li>\r\n                    ))}\r\n                  </ol>\r\n                  <button\r\n                    type=\"button\"\r\n                    onClick={handleAddTerm}\r\n                    className=\"mt-2 text-orange-500 hover:underline text-xs\"\r\n                  >\r\n                    + Add Term\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <button type=\"submit\" className=\"w-full mt-6 py-3 bg-orange-500 text-white rounded-md hover:bg-orange-600\">\r\n              Update\r\n            </button>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1120, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/chand/OneDrive/Desktop/jeevic_admin/components/coupan-codes/coupon-table.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport { useState } from \"react\"\r\nimport { Info, Edit, Trash2 } from \"lucide-react\"\r\nimport { CouponInfoPopup } from \"./coupon-hover-card\"\r\nimport { ICoupon, APISDK } from \"@/libs/api\"\r\nimport { EditCouponModal } from \"./edit-coupon-modal\"\r\n\r\nexport function CouponTable({ coupons, reload }: { coupons: ICoupon[]; reload: () => Promise<void> }) {\r\n  const [hoveredCoupon, setHoveredCoupon] = useState<ICoupon | null>(null)\r\n  const [selectedCoupon, setSelectedCoupon] = useState<ICoupon | null>(null)\r\n  const [hoverPosition, setHoverPosition] = useState({ x: 0, y: 0 })\r\n  const [editingCoupon, setEditingCoupon] = useState<ICoupon | null>(null)\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n  const couponsPerPage = 10;\r\n  const totalPages = Math.ceil(coupons.length / couponsPerPage);\r\n\r\n  const handlePrevPage = async () => {\r\n    if (currentPage > 1) {\r\n      const newPage = currentPage - 1;\r\n      setCurrentPage(newPage);\r\n    }\r\n  };\r\n\r\n  const handleNextPage = async () => {\r\n    if (currentPage < totalPages) {\r\n      const newPage = currentPage + 1;\r\n      setCurrentPage(newPage);\r\n    }\r\n  };\r\n\r\n\r\n  const handleInfoMouseEnter = (e: React.MouseEvent, coupon: ICoupon) => {\r\n    const rect = e.currentTarget.getBoundingClientRect()\r\n    setHoverPosition({\r\n      x: rect.left + window.scrollX,\r\n      y: rect.top + window.scrollY,\r\n    })\r\n    setHoveredCoupon(coupon)\r\n  }\r\n\r\n  const handleInfoMouseLeave = () => {\r\n    setHoveredCoupon(null)\r\n  }\r\n\r\n  const handleInfoClick = (coupon: ICoupon) => {\r\n    setSelectedCoupon(coupon)\r\n    setHoveredCoupon(null)\r\n  }\r\n\r\n  const onDeleteCoupon = async (couponId: string) => {\r\n    if (!window.confirm(\"Are you sure you want to delete this coupon?\")) {\r\n      return;\r\n    }\r\n    try {\r\n      await APISDK.getInstance().deleteCoupon(couponId)\r\n      await reload()\r\n    } catch (err) {\r\n      // Optionally handle error (e.g., show a toast)\r\n      console.error(\"Failed to delete coupon\", err)\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"bg-white border rounded-md overflow-hidden\">\r\n      <table className=\"min-w-full divide-y divide-gray-200\">\r\n        <thead className=\"bg-gray-50\">\r\n          <tr>\r\n            <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-800 uppercase tracking-wider\">\r\n              Coupon ID\r\n            </th>\r\n            <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-800 uppercase tracking-wider\">\r\n              Coupon Code\r\n            </th>\r\n            <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-800 uppercase tracking-wider\">\r\n              Expiry Date\r\n            </th>\r\n            <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-800 uppercase tracking-wider\">\r\n              Last Updated\r\n            </th>\r\n            <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-800 uppercase tracking-wider\">\r\n              Created At\r\n            </th>\r\n            <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-800 uppercase tracking-wider\">Actions</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody className=\"bg-white divide-y divide-gray-200\">\r\n        {coupons\r\n            .slice((currentPage - 1) * couponsPerPage, currentPage * couponsPerPage)\r\n            .map((coupon, index) => (\r\n            <tr key={index} className=\"hover:bg-gray-50\">\r\n              <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-800\">\r\n                <div className=\"flex items-center\">\r\n                  {coupon.id}\r\n                  <button\r\n                    className=\"ml-2 text-gray-400 hover:text-gray-600\"\r\n                    onMouseEnter={(e) => handleInfoMouseEnter(e, coupon)}\r\n                    onMouseLeave={handleInfoMouseLeave}\r\n                    onClick={() => handleInfoClick(coupon)}\r\n                  >\r\n                    <Info size={16} />\r\n                  </button>\r\n                </div>\r\n              </td>\r\n              <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-800\">{coupon.code}</td>\r\n              <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-800\">\r\n                {coupon.expires_on ? new Date(coupon.expires_on).toLocaleDateString() : \"\"}\r\n              </td>\r\n              <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-800\">\r\n                {coupon.updated_at ? new Date(coupon.updated_at).toLocaleDateString() : \"\"}\r\n              </td>\r\n              <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-800\">\r\n                {coupon.created_at ? new Date(coupon.created_at).toLocaleDateString() : \"\"}\r\n              </td>\r\n              <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-800\">\r\n                <div className=\"flex space-x-2\">\r\n                  <button\r\n                    className=\"text-gray-600 hover:text-gray-800 flex items-center\"\r\n                    onClick={() => setEditingCoupon(coupon)}\r\n                  >\r\n                    <Edit size={16} className=\"mr-1\" />\r\n                    Update\r\n                  </button>\r\n                  <button\r\n                    className=\"text-red-500 hover:text-red-700\"\r\n                    onClick={() => onDeleteCoupon(coupon.id)}\r\n                  >\r\n                    <Trash2 size={16} />\r\n                  </button>\r\n                </div>\r\n              </td>\r\n            </tr>\r\n          ))}\r\n        </tbody>\r\n      </table>\r\n\r\n      <div className=\"px-6 py-3 flex items-center justify-end border-t\">\r\n        <div className=\"text-sm text-gray-700\">Page {currentPage} of {totalPages}</div>\r\n        <div className=\"ml-4 flex\">\r\n          <button\r\n            className=\"px-2 py-1 border rounded-l-md bg-gray-100 text-gray-600\"\r\n            onClick={handlePrevPage}\r\n            disabled={currentPage === 1}\r\n          >\r\n            <svg className=\"h-4 w-4\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M15 19l-7-7 7-7\" />\r\n            </svg>\r\n          </button>\r\n          <button\r\n            className=\"px-2 py-1 border-t border-b border-r rounded-r-md bg-gray-100 text-gray-600\"\r\n            onClick={handleNextPage}\r\n            disabled={currentPage === totalPages}\r\n          >\r\n            <svg className=\"h-4 w-4\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 5l7 7-7 7\" />\r\n            </svg>\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      {hoveredCoupon && !selectedCoupon && (\r\n        <CouponInfoPopup \r\n          coupon={hoveredCoupon} \r\n          position={hoverPosition} \r\n          mode=\"hover\" \r\n        />\r\n      )}\r\n      {selectedCoupon && (\r\n        <CouponInfoPopup \r\n          coupon={selectedCoupon} \r\n          onClose={() => setSelectedCoupon(null)}\r\n          mode=\"popup\"\r\n        />\r\n      )}\r\n      {editingCoupon && (\r\n        <EditCouponModal\r\n          coupon={editingCoupon}\r\n          onClose={() => setEditingCoupon(null)}\r\n          onUpdated={reload}\r\n        />\r\n      )}\r\n    </div>\r\n  )\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1534, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/chand/OneDrive/Desktop/jeevic_admin/components/coupan-codes/new-coupon-modal.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport { useState } from \"react\"\r\nimport { Calendar, ChevronDown, X } from \"lucide-react\"\r\nimport { ICoupon, APISDK } from \"@/libs/api\"\r\n\r\n// Define prop types for the modal component\r\ninterface NewCouponModalProps {\r\n  onClose: () => void;\r\n}\r\n\r\n// Define types for discount options\r\ntype DiscountType = \"percentage\" | \"amount\";\r\n\r\nexport function NewCouponModal({ onClose }: NewCouponModalProps) {\r\n  const [couponCode, setCouponCode] = useState<string>(\"\")\r\n  const [oneTimeUse, setOneTimeUse] = useState<boolean>(true)\r\n  const [totalUses, setTotalUses] = useState<string>(\"\")\r\n  const [expiryDate, setExpiryDate] = useState<string>(\"\")\r\n  const [discountType, setDiscountType] = useState<DiscountType>(\"percentage\")\r\n  const [discountAmount, setDiscountAmount] = useState<string>(\"\")\r\n  const [minimumCartValue, setMinimumCartValue] = useState<string>(\"\")\r\n\r\n  const [terms, setTerms] = useState<string[]>([\r\n    \"20% off up to ₹999 on orders above ₹4000.\",\r\n    \"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.\"\r\n  ])\r\n\r\n  const handleTermChange = (index: number, value: string) => {\r\n    setTerms(prev => prev.map((term, i) => (i === index ? value : term)))\r\n  }\r\n\r\n  const handleAddTerm = () => {\r\n    setTerms(prev => [...prev, \"\"])\r\n  }\r\n\r\n  const handleRemoveTerm = (index: number) => {\r\n    setTerms(prev => prev.filter((_, i) => i !== index))\r\n  }\r\n\r\n  const handleSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault()\r\n    // Prepare coupon data\r\n    const couponData: Omit<ICoupon, \"id\" | \"created_at\" | \"updated_at\"> = {\r\n      code: couponCode,\r\n      is_one_time: oneTimeUse,\r\n      expires_on: new Date(expiryDate),\r\n      no_of_uses: totalUses === \"unlimited\" ? Number.MAX_SAFE_INTEGER : Number(totalUses),\r\n      meta_data: {\r\n        discountType,\r\n        discountAmount,\r\n        minimumCartValue,\r\n        terms: JSON.stringify(terms)\r\n      }\r\n    }\r\n\r\n   await APISDK.getInstance().createCoupon(couponData)\r\n    onClose()\r\n  }\r\n\r\n  return (\r\n    <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 overlow-auto scrollbar-thin scrollbar-thumb-orange-400 scrollbar-track-gray-200\">\r\n      <div className=\"bg-white rounded-lg w-full max-w-md max-h-[90vh] overflow-y-auto scrollbar-thin scrollbar-thumb-orange-400 scrollbar-track-gray-200\">\r\n        <div className=\"p-6\">\r\n          <div className=\"flex justify-between items-center mb-6\">\r\n            <h2 className=\"text-lg font-medium text-gray-800\">Coupon Code</h2>\r\n            <button\r\n              onClick={onClose}\r\n              className=\"text-gray-400 hover:text-gray-600 transition-colors\"\r\n              aria-label=\"Close modal\"\r\n            >\r\n              <X size={20} />\r\n            </button>\r\n          </div>\r\n\r\n          <form onSubmit={handleSubmit}>\r\n            <div className=\"space-y-6\">\r\n              <div>\r\n                <input\r\n                  type=\"text\"\r\n                  value={couponCode}\r\n                  onChange={(e) => setCouponCode(e.target.value)}\r\n                  placeholder=\"Enter coupon code\"\r\n                  className=\"w-full border rounded-md px-3 py-2 text-gray-800\"\r\n                />\r\n                <p className=\"text-xs text-gray-500 mt-1\">Coupon ID will be generated automatically</p>\r\n              </div>\r\n\r\n              <div className=\"flex items-center justify-between\">\r\n                <span className=\"text-gray-800\">One Time Use Per User</span>\r\n                <div className=\"relative inline-flex items-center cursor-pointer\">\r\n                  <div\r\n                    className={`w-10 h-5 rounded-full ${oneTimeUse ? \"bg-orange-500\" : \"bg-gray-200\"}`}\r\n                    onClick={() => setOneTimeUse(!oneTimeUse)}\r\n                  >\r\n                    <div\r\n                      className={`absolute w-3.5 h-3.5 bg-white rounded-full top-[3px] transition-transform ${\r\n                        oneTimeUse ? \"translate-x-[22px]\" : \"translate-x-[3px]\"\r\n                      }`}\r\n                    ></div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"grid grid-cols-2 gap-4\">\r\n                <div>\r\n                  <label className=\"block text-sm text-gray-600 mb-1\">Total No. Of Uses</label>\r\n                  <div className=\"relative\">\r\n                    \r\n                     <input\r\n                  type=\"number\"\r\n                  value={totalUses}\r\n                  onChange={(e) => setTotalUses(e.target.value)}\r\n                  placeholder=\"total number uses\"\r\n                  className=\"w-full border rounded-md px-3 py-2 text-gray-800\"\r\n                />\r\n                  \r\n                  </div>\r\n                </div>\r\n                <div>\r\n                  <label className=\"block text-sm text-gray-600 mb-1\">Expiry</label>\r\n                  <div className=\"relative\">\r\n                    <input\r\n                      type=\"date\"\r\n                      value={expiryDate}\r\n                      onChange={(e) => setExpiryDate(e.target.value)}\r\n                      className=\"w-full border rounded-md px-3 py-2 text-gray-800\"\r\n                    />\r\n                    \r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              <div>\r\n                <label className=\"block text-sm text-gray-600 mb-2\">Discount Details</label>\r\n                <div className=\"flex space-x-6\">\r\n                  <label className=\"flex items-center\">\r\n                    <input\r\n                      type=\"radio\"\r\n                      name=\"discountType\"\r\n                      checked={discountType === \"percentage\"}\r\n                      onChange={() => setDiscountType(\"percentage\")}\r\n                      className=\"mr-2 text-orange-500\"\r\n                    />\r\n                    <span className=\"text-gray-800\">Percentage%</span>\r\n                  </label>\r\n                  <label className=\"flex items-center\">\r\n                    <input\r\n                      type=\"radio\"\r\n                      name=\"discountType\"\r\n                      checked={discountType === \"amount\"}\r\n                      onChange={() => setDiscountType(\"amount\")}\r\n                      className=\"mr-2 text-orange-500\"\r\n                    />\r\n                    <span className=\"text-gray-800\">Flat Discount(₹)</span>\r\n                  </label>\r\n                </div>\r\n              </div>\r\n\r\n              <div>\r\n                <label className=\"block text-sm text-gray-600 mb-1\">{discountType===\"amount\"?\"Flat Discount price\":\"Discount percentage\"}</label>\r\n                <input\r\n                  type=\"text\"\r\n                  value={discountAmount}\r\n                  onChange={(e) => setDiscountAmount(e.target.value)}\r\n                  className=\"w-full border rounded-md px-3 py-2 text-gray-800\"\r\n                />\r\n              </div>\r\n\r\n              <div>\r\n                <label className=\"block text-sm text-gray-600 mb-1\">Minimum Cart Value</label>\r\n                <input\r\n                  type=\"text\"\r\n                  value={minimumCartValue}\r\n                  onChange={(e) => setMinimumCartValue(e.target.value)}\r\n                  className=\"w-full border rounded-md px-3 py-2 text-gray-800\"\r\n                />\r\n              </div>\r\n\r\n              <div>\r\n                <label className=\"block text-sm text-gray-600 mb-2\">Terms & Conditions</label>\r\n                <div className=\"bg-gray-50 p-3 rounded-md \">\r\n                  <ol className=\"list-decimal pl-5 text-sm text-gray-800 space-y-2\">\r\n                    {terms.map((term, idx) => (\r\n                      <li key={idx} className=\"flex items-center space-x-2\">\r\n                        <input\r\n                          type=\"text\"\r\n                          value={term}\r\n                          onChange={e => handleTermChange(idx, e.target.value)}\r\n                          className=\"flex-1 border rounded-md px-2 py-1 text-gray-800\"\r\n                        />\r\n                        {terms.length > 1 && (\r\n                          <button\r\n                            type=\"button\"\r\n                            onClick={() => handleRemoveTerm(idx)}\r\n                            className=\"text-red-500 hover:text-red-700 px-2\"\r\n                            aria-label=\"Remove term\"\r\n                          >\r\n                            &times;\r\n                          </button>\r\n                        )}\r\n                      </li>\r\n                    ))}\r\n                  </ol>\r\n                  <button\r\n                    type=\"button\"\r\n                    onClick={handleAddTerm}\r\n                    className=\"mt-2 text-orange-500 hover:underline text-xs\"\r\n                  >\r\n                    + Add Term\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <button type=\"submit\" className=\"w-full mt-6 py-3 bg-orange-500 text-white rounded-md hover:bg-orange-600\" onClick={handleSubmit}>\r\n              Create\r\n            </button>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 2036, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/chand/OneDrive/Desktop/jeevic_admin/app/coupon-codes/page.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport { Breadcrumb } from \"@/components/breadcrumb\"\r\nimport { MetricCards } from \"@/components/coupan-codes/metric-cards\"\r\nimport { CouponTabs } from \"@/components/coupan-codes/coupon-tabs\"\r\nimport { CouponTable } from \"@/components/coupan-codes/coupon-table\"\r\nimport { PlusCircle } from \"lucide-react\"\r\nimport { NewCouponModal } from \"@/components/coupan-codes/new-coupon-modal\"\r\nimport { useEffect, useState, useMemo } from \"react\"\r\nimport { APISDK, ICoupon } from \"@/libs/api\"\r\n\r\nexport default function CouponCodesPage() {\r\n  const [showNewCouponModal, setShowNewCouponModal] = useState(false)\r\n  const [coupons, setCoupons] = useState<ICoupon[]>([])\r\n  const [loading, setLoading] = useState(false)\r\n  const [searchTerm, setSearchTerm] = useState(\"\")\r\n  const [activeTab, setActiveTab] = useState<\"all\" | \"active\" | \"inactive\">(\"all\")\r\n\r\n  // Fetch all coupons on mount\r\n  useEffect(() => {\r\n    fetchCoupons()\r\n  }, [])\r\n\r\n  const fetchCoupons = async () => {\r\n    setLoading(true)\r\n    try {\r\n      const api = APISDK.getInstance()\r\n      const data = await api.getCoupons()\r\n      setCoupons(data)\r\n    } finally {\r\n      setLoading(false)\r\n    }\r\n  }\r\n\r\n\r\n\r\n\r\n  // Filtering logic for tabs and search\r\n  const filteredCoupons = useMemo(() => {\r\n    let filtered = coupons\r\n    if (activeTab === \"active\") {\r\n      filtered = filtered.filter(c => c.no_of_uses > 0 && (!c.expires_on || new Date(c.expires_on) > new Date()))\r\n    } else if (activeTab === \"inactive\") {\r\n      filtered = filtered.filter(c => c.no_of_uses === 0 || (c.expires_on && new Date(c.expires_on) <= new Date()))\r\n    }\r\n    if (searchTerm) {\r\n      filtered = filtered.filter(c =>\r\n        c.code.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n        (c.meta_data?.title || \"\").toLowerCase().includes(searchTerm.toLowerCase())\r\n      )\r\n    }\r\n    return filtered\r\n  }, [coupons, activeTab, searchTerm])\r\n\r\n  // Stats for MetricCards\r\n  const totalCoupons = coupons.length\r\n  const totalUses = coupons.reduce((acc, c) => acc + (c.no_of_uses || 0), 0)\r\n  // You can add more stats as needed\r\n\r\n  return (\r\n    <>\r\n      <Breadcrumb items={[\"Marketing\", \"Coupon Codes\"]} />\r\n      <main className=\"flex-1 p-6\">\r\n        <div className=\"flex justify-between items-center mb-6\">\r\n          <h1 className=\"text-xl font-medium text-gray-800\">Coupon Codes</h1>\r\n          <button\r\n            onClick={() => setShowNewCouponModal(true)}\r\n            className=\"flex items-center px-4 py-2 bg-gray-100 rounded-full text-sm font-medium hover:bg-gray-200 transition-colors text-gray-800\"\r\n          >\r\n            <PlusCircle className=\"h-4 w-4 mr-2\" />\r\n            New Coupon Code\r\n          </button>\r\n        </div>\r\n\r\n        <MetricCards totalCoupons={totalCoupons} totalUses={totalUses} loading={loading} />\r\n\r\n        <div className=\"mt-8\">\r\n          <div className=\"mb-2\">\r\n            <h2 className=\"text-lg font-medium text-gray-800\">All Coupons</h2>\r\n            <p className=\"text-sm text-gray-600\">Manage all your coupon codes here</p>\r\n          </div>\r\n          <CouponTabs\r\n            activeTab={activeTab}\r\n            setActiveTab={setActiveTab}\r\n            searchTerm={searchTerm}\r\n            setSearchTerm={setSearchTerm}\r\n            totalCoupons={totalCoupons}\r\n            activeCoupons={coupons.filter(c => c.no_of_uses > 0 && (!c.expires_on || new Date(c.expires_on) > new Date())).length}\r\n            inactiveCoupons={coupons.filter(c => c.no_of_uses === 0 || (c.expires_on && new Date(c.expires_on) <= new Date())).length}\r\n          />\r\n          <CouponTable\r\n            coupons={filteredCoupons}\r\n            reload={fetchCoupons}\r\n          />\r\n        </div>\r\n      </main>\r\n      {showNewCouponModal && (\r\n        <NewCouponModal\r\n          onClose={() => {{fetchCoupons(),setShowNewCouponModal(false)}}}\r\n        />\r\n      )}\r\n    </>\r\n  )\r\n}\r\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;;;AATA;;;;;;;;;AAWe,SAAS;;IACtB,MAAM,CAAC,oBAAoB,sBAAsB,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAC7D,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAa,EAAE;IACpD,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IACvC,MAAM,CAAC,YAAY,cAAc,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAC7C,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAiC;IAE1E,6BAA6B;IAC7B,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;qCAAE;YACR;QACF;oCAAG,EAAE;IAEL,MAAM,eAAe;QACnB,WAAW;QACX,IAAI;YACF,MAAM,MAAM,uIAAA,CAAA,SAAM,CAAC,WAAW;YAC9B,MAAM,OAAO,MAAM,IAAI,UAAU;YACjC,WAAW;QACb,SAAU;YACR,WAAW;QACb;IACF;IAKA,sCAAsC;IACtC,MAAM,kBAAkB,CAAA,GAAA,6JAAA,CAAA,UAAO,AAAD;oDAAE;YAC9B,IAAI,WAAW;YACf,IAAI,cAAc,UAAU;gBAC1B,WAAW,SAAS,MAAM;gEAAC,CAAA,IAAK,EAAE,UAAU,GAAG,KAAK,CAAC,CAAC,EAAE,UAAU,IAAI,IAAI,KAAK,EAAE,UAAU,IAAI,IAAI,MAAM;;YAC3G,OAAO,IAAI,cAAc,YAAY;gBACnC,WAAW,SAAS,MAAM;gEAAC,CAAA,IAAK,EAAE,UAAU,KAAK,KAAM,EAAE,UAAU,IAAI,IAAI,KAAK,EAAE,UAAU,KAAK,IAAI;;YACvG;YACA,IAAI,YAAY;gBACd,WAAW,SAAS,MAAM;gEAAC,CAAA,IACzB,EAAE,IAAI,CAAC,WAAW,GAAG,QAAQ,CAAC,WAAW,WAAW,OACpD,CAAC,EAAE,SAAS,EAAE,SAAS,EAAE,EAAE,WAAW,GAAG,QAAQ,CAAC,WAAW,WAAW;;YAE5E;YACA,OAAO;QACT;mDAAG;QAAC;QAAS;QAAW;KAAW;IAEnC,wBAAwB;IACxB,MAAM,eAAe,QAAQ,MAAM;IACnC,MAAM,YAAY,QAAQ,MAAM,CAAC,CAAC,KAAK,IAAM,MAAM,CAAC,EAAE,UAAU,IAAI,CAAC,GAAG;IACxE,mCAAmC;IAEnC,qBACE;;0BACE,6LAAC,4HAAA,CAAA,aAAU;gBAAC,OAAO;oBAAC;oBAAa;iBAAe;;;;;;0BAChD,6LAAC;gBAAK,WAAU;;kCACd,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;gCAAG,WAAU;0CAAoC;;;;;;0CAClD,6LAAC;gCACC,SAAS,IAAM,sBAAsB;gCACrC,WAAU;;kDAEV,6LAAC,qNAAA,CAAA,aAAU;wCAAC,WAAU;;;;;;oCAAiB;;;;;;;;;;;;;kCAK3C,6LAAC,oJAAA,CAAA,cAAW;wBAAC,cAAc;wBAAc,WAAW;wBAAW,SAAS;;;;;;kCAExE,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;gCAAI,WAAU;;kDACb,6LAAC;wCAAG,WAAU;kDAAoC;;;;;;kDAClD,6LAAC;wCAAE,WAAU;kDAAwB;;;;;;;;;;;;0CAEvC,6LAAC,mJAAA,CAAA,aAAU;gCACT,WAAW;gCACX,cAAc;gCACd,YAAY;gCACZ,eAAe;gCACf,cAAc;gCACd,eAAe,QAAQ,MAAM,CAAC,CAAA,IAAK,EAAE,UAAU,GAAG,KAAK,CAAC,CAAC,EAAE,UAAU,IAAI,IAAI,KAAK,EAAE,UAAU,IAAI,IAAI,MAAM,GAAG,MAAM;gCACrH,iBAAiB,QAAQ,MAAM,CAAC,CAAA,IAAK,EAAE,UAAU,KAAK,KAAM,EAAE,UAAU,IAAI,IAAI,KAAK,EAAE,UAAU,KAAK,IAAI,QAAS,MAAM;;;;;;0CAE3H,6LAAC,oJAAA,CAAA,cAAW;gCACV,SAAS;gCACT,QAAQ;;;;;;;;;;;;;;;;;;YAIb,oCACC,6LAAC,2JAAA,CAAA,iBAAc;gBACb,SAAS;oBAAO;wBAAC,gBAAe,sBAAsB;oBAAM;gBAAC;;;;;;;;AAKvE;GA5FwB;KAAA","debugId":null}}]
}